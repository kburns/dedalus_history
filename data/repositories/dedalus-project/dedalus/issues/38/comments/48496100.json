{"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/issues/38/comments/48496100.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/38#comment-48496100"}}, "issue": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/issues/38.json"}}, "type": "issue", "id": 38, "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "title": "Slow simulation NS2D over a biperiodic space?"}, "content": {"raw": "Ok I took a closer look at the script, and noticed that there's also big improvements we can make to the problem formulation.  In Dedalus, only Chebyshev problems need to be reduced to first order, but higher-order derivatives are fine with Fourier bases.  This means all of the diagnostic equations here can actually be replaced with substitution rules relating rot, u, and v to psi.  Making these changes also speeds up the code quite a bit, in addition to compensating for the different dealiasing strategies.  Currently timings on my laptop look like:\n\nFluidSim:  \n512^2 grid: 0.56 sec  \n1024^2 grid: 2.76 sec  \n\nOld Dedalus script:  \n512^2 modes: 5.73 sec  \n1024^2 modes: 26.93 sec  \n\nUpdated Dedalus script:  \n512^2 grid: 1.19 sec  \n1024^2 grid: 6.78 sec  \n\nI'll post this over on the FluidSim issue as well.", "markup": "markdown", "html": "<p>Ok I took a closer look at the script, and noticed that there's also big improvements we can make to the problem formulation.  In Dedalus, only Chebyshev problems need to be reduced to first order, but higher-order derivatives are fine with Fourier bases.  This means all of the diagnostic equations here can actually be replaced with substitution rules relating rot, u, and v to psi.  Making these changes also speeds up the code quite a bit, in addition to compensating for the different dealiasing strategies.  Currently timings on my laptop look like:</p>\n<p>FluidSim:<br />\n512^2 grid: 0.56 sec<br />\n1024^2 grid: 2.76 sec  </p>\n<p>Old Dedalus script:<br />\n512^2 modes: 5.73 sec<br />\n1024^2 modes: 26.93 sec  </p>\n<p>Updated Dedalus script:<br />\n512^2 grid: 1.19 sec<br />\n1024^2 grid: 6.78 sec  </p>\n<p>I'll post this over on the FluidSim issue as well.</p>", "type": "rendered"}, "created_on": "2018-10-22T20:21:25.403280+00:00", "user": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "updated_on": "2018-10-22T20:26:44.272854+00:00", "type": "issue_comment", "id": 48496100}