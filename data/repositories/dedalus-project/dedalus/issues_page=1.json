{"pagelen": 100, "values": [{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/1/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/1.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/1/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/1/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/1/non-linear-products"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/1/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Non-linear products", "component": null, "votes": 1, "watches": 2, "content": {"raw": "Add framework for (at least) quadratic non-linearities.\r\n\r\nThis may involve a task list that directs differentiation and transforms to most efficiently (in memory, by not bringing along unneeded fields, and in speed, by not repeating any computations) construct the non-linear terms.\r\n\r\nIt should also incorporate the RHS of the boundary condition equations, eliminating the current \"pencil.b\" structure.", "markup": "markdown", "html": "<p>Add framework for (at least) quadratic non-linearities.</p>\n<p>This may involve a task list that directs differentiation and transforms to most efficiently (in memory, by not bringing along unneeded fields, and in speed, by not repeating any computations) construct the non-linear terms.</p>\n<p>It should also incorporate the RHS of the boundary condition equations, eliminating the current \"pencil.b\" structure.</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2013-07-09T19:25:15.066989+00:00", "milestone": null, "updated_on": "2018-10-30T21:17:10.793059+00:00", "type": "issue", "id": 1}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/2/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/2.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/2/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/2/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/2/boundary-condition-encapsulation"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/2/vote"}}, "reporter": {"display_name": "Geoffrey Vasil", "uuid": "{ec9259be-a54c-4c63-b96f-730d3e89ef05}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D"}, "html": {"href": "https://bitbucket.org/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/066b34172584980740ef2ae4c530a8b3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsGV-6.png"}}, "nickname": "gvasil", "type": "user", "account_id": "557058:e21712ff-f90d-47dd-ac9d-39f9035f02bd"}, "title": "boundary condition encapsulation", "component": null, "votes": 0, "watches": 2, "content": {"raw": "need to include boundary conditions into M, L, F framework.  Some boundary conditions take the form of time-stepped equations.  e.g, QG, free-surfaces.  This will allow for simple solve at the end of timestepper.py.  ", "markup": "markdown", "html": "<p>need to include boundary conditions into M, L, F framework.  Some boundary conditions take the form of time-stepped equations.  e.g, QG, free-surfaces.  This will allow for simple solve at the end of timestepper.py.  </p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-07-09T19:26:08.225251+00:00", "milestone": null, "updated_on": "2013-07-26T17:43:05.086323+00:00", "type": "issue", "id": 2}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/3/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/3.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/3/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/3/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/3/hack-sparse-structure-for-system"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/3/vote"}}, "reporter": {"display_name": "Geoffrey Vasil", "uuid": "{ec9259be-a54c-4c63-b96f-730d3e89ef05}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D"}, "html": {"href": "https://bitbucket.org/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/066b34172584980740ef2ae4c530a8b3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsGV-6.png"}}, "nickname": "gvasil", "type": "user", "account_id": "557058:e21712ff-f90d-47dd-ac9d-39f9035f02bd"}, "title": "hack sparse structure for system", "component": null, "votes": 0, "watches": 2, "content": {"raw": "make a flag for not allocating/adding zero fields in a 'system' variable. ", "markup": "markdown", "html": "<p>make a flag for not allocating/adding zero fields in a 'system' variable. </p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-07-12T21:55:36.764667+00:00", "milestone": null, "updated_on": "2014-02-21T02:25:14.292376+00:00", "type": "issue", "id": 3}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/4/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/4.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/4/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/4/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/4/piecewise-bases"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/4/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Piecewise bases", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Create a PiecewiseBasis class that splits a direction into multiple bases.  Will need to patch together the individual basis matrices, make sure they are defined on continuous ranges, and enforce continuity between them (using N-1 of the boundary condition rows when patching together N individual bases).", "markup": "markdown", "html": "<p>Create a PiecewiseBasis class that splits a direction into multiple bases.  Will need to patch together the individual basis matrices, make sure they are defined on continuous ranges, and enforce continuity between them (using N-1 of the boundary condition rows when patching together N individual bases).</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-07-12T22:28:27.728037+00:00", "milestone": null, "updated_on": "2014-05-30T01:16:40.974282+00:00", "type": "issue", "id": 4}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/5/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/5.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/5/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/5/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/5/allow-non-simulation-processes-to-handle"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/5/vote"}}, "reporter": {"display_name": "Geoffrey Vasil", "uuid": "{ec9259be-a54c-4c63-b96f-730d3e89ef05}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D"}, "html": {"href": "https://bitbucket.org/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/066b34172584980740ef2ae4c530a8b3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsGV-6.png"}}, "nickname": "gvasil", "type": "user", "account_id": "557058:e21712ff-f90d-47dd-ac9d-39f9035f02bd"}, "title": "Allow non-simulation processes to handle e.g. IO", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Joe Werne (who really knows a lot about what he's doing) does something equivalent to the following with IO:\r\n\r\nWe're going to want the data in different formats, orderings, FFT spaces, reductions etc.  \r\n\r\nWhen it's an IO time step, it's a good idea to have the compute cores dump out their data in the format they happen to have it in at the time.  After that, a smaller number of dedicated analysis cores clean up and package the data into the format requested by the user.  \r\n\r\nI.e., Given the user's requested data product, the analysis cores ask for raw data from the compute cores at a point in the compute loop that corresponds closest to the needed type.  The compute cores dump out as fast as possible, and move on.  If we want the compute cores to limit the overall efficiency, then the number of analysis cores will scale in some proportion to the frequency of output, and complexity of reduction. \r\n\r\nAt worst, the compute cores create a backlog for the analysis cores. In this case, at the end of a simulation, the compute cores can switch to analysis and help clear the backlog.", "markup": "markdown", "html": "<p>Joe Werne (who really knows a lot about what he's doing) does something equivalent to the following with IO:</p>\n<p>We're going to want the data in different formats, orderings, FFT spaces, reductions etc.  </p>\n<p>When it's an IO time step, it's a good idea to have the compute cores dump out their data in the format they happen to have it in at the time.  After that, a smaller number of dedicated analysis cores clean up and package the data into the format requested by the user.  </p>\n<p>I.e., Given the user's requested data product, the analysis cores ask for raw data from the compute cores at a point in the compute loop that corresponds closest to the needed type.  The compute cores dump out as fast as possible, and move on.  If we want the compute cores to limit the overall efficiency, then the number of analysis cores will scale in some proportion to the frequency of output, and complexity of reduction. </p>\n<p>At worst, the compute cores create a backlog for the analysis cores. In this case, at the end of a simulation, the compute cores can switch to analysis and help clear the backlog.</p>", "type": "rendered"}, "assignee": null, "state": "on hold", "version": null, "edited_on": null, "created_on": "2013-07-15T16:36:42.227938+00:00", "milestone": null, "updated_on": "2018-10-30T21:14:17.722130+00:00", "type": "issue", "id": 5}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/6/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/6.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/6/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/6/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/6/non-constant-coefficients"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/6/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Non-constant coefficients", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Add Chebyshev expansions of the A, B matrices in order to deal with non-constant coefficients in the linear parts of the equations.  \r\n\r\nThe initial structure may involve hand-coding matrices for a few modes, but this should quickly be replaced by an automatic expansion into P-many modes after the user specifies the coefficients as a function, i.e. \"rho_0(z)\".  This might be done using simple Python lambda functions, but we should also think of using sympy for this.", "markup": "markdown", "html": "<p>Add Chebyshev expansions of the A, B matrices in order to deal with non-constant coefficients in the linear parts of the equations.  </p>\n<p>The initial structure may involve hand-coding matrices for a few modes, but this should quickly be replaced by an automatic expansion into P-many modes after the user specifies the coefficients as a function, i.e. \"rho_0(z)\".  This might be done using simple Python lambda functions, but we should also think of using sympy for this.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-07-15T17:01:32.444491+00:00", "milestone": null, "updated_on": "2015-02-25T23:54:52.266842+00:00", "type": "issue", "id": 6}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/7/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/7.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/7/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/7/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/7/additional-boundary-condition-types"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/7/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Additional boundary condition types", "component": null, "votes": 0, "watches": 1, "content": {"raw": "We might want to add support for constants of integration besides specifying field behaviour on the boundaries, such as integral conditions.", "markup": "markdown", "html": "<p>We might want to add support for constants of integration besides specifying field behaviour on the boundaries, such as integral conditions.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-08-01T17:48:32.473606+00:00", "milestone": null, "updated_on": "2014-01-10T17:09:51.678111+00:00", "type": "issue", "id": 7}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/8/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/8.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/8/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/8/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/8/truncation-details"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/8/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Truncation details", "component": null, "votes": 0, "watches": 1, "content": {"raw": "We should do some quantitative investigation into the details of truncation (i.e. truncating the system before vs after preconditioning).", "markup": "markdown", "html": "<p>We should do some quantitative investigation into the details of truncation (i.e. truncating the system before vs after preconditioning).</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2013-08-02T02:21:56.922775+00:00", "milestone": null, "updated_on": "2018-10-30T21:16:13.438620+00:00", "type": "issue", "id": 8}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/9/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/9.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/9/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/9/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/9/switch-to-python-3"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/9/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Switch to Python 3", "component": null, "votes": 0, "watches": 1, "content": {"raw": "This may be a good time to switch over to Python 3, since we're in the middle of a large rewrite and the current codebase is still pretty small.  \r\n\r\nI've done some tests and the current code can run under Python 3 with just a few small syntax modifications.  All current dependencies support Python 3.  \r\n\r\nSympy, mpi4py, h5py, and cython all support Python 3, as well.  Any other potential dependencies to check?", "markup": "markdown", "html": "<p>This may be a good time to switch over to Python 3, since we're in the middle of a large rewrite and the current codebase is still pretty small.  </p>\n<p>I've done some tests and the current code can run under Python 3 with just a few small syntax modifications.  All current dependencies support Python 3.  </p>\n<p>Sympy, mpi4py, h5py, and cython all support Python 3, as well.  Any other potential dependencies to check?</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-08-07T17:38:48.834100+00:00", "milestone": null, "updated_on": "2013-08-13T21:17:50.247214+00:00", "type": "issue", "id": 9}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/10/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/10.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/10/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/10/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/10/dealiasing"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/10/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Dealiasing", "component": null, "votes": 0, "watches": 1, "content": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-08-18T03:06:39.254815+00:00", "milestone": null, "updated_on": "2014-01-14T17:46:51.192272+00:00", "type": "issue", "id": 10}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/11/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/11.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/11/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/11/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/11/xrange-deprecated-in-python3-switch-to"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/11/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "xrange() deprecated in python3, switch to range()?", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The xrange() function appears to be deprecated in python3.  Running `liveplot.py` in `dedalus2/test` with python3 throws a `xrange() undefined\r\n\r\nIt appears in the python2 documentation\r\n\r\nhttp://docs.python.org/3/library/functions.html\r\n\r\nbut is missing in the python3 docs:\r\n\r\nhttp://docs.python.org/3/library/functions.html\r\n\r\naffects:\r\n   `dedalus2/test/liveplot.py`\r\n\r\nnote:\r\n   `dedalus2/test/cgle/liveplot.py` is fine and already had done xrange() -> range(), so you're probably already aware of this.\r\n", "markup": "markdown", "html": "<p>The xrange() function appears to be deprecated in python3.  Running <code>liveplot.py</code> in <code>dedalus2/test</code> with python3 throws a `xrange() undefined</p>\n<p>It appears in the python2 documentation</p>\n<p><a href=\"http://docs.python.org/3/library/functions.html\" rel=\"nofollow\" class=\"ap-connect-link\">http://docs.python.org/3/library/functions.html</a></p>\n<p>but is missing in the python3 docs:</p>\n<p><a href=\"http://docs.python.org/3/library/functions.html\" rel=\"nofollow\" class=\"ap-connect-link\">http://docs.python.org/3/library/functions.html</a></p>\n<p>affects:\n   <code>dedalus2/test/liveplot.py</code></p>\n<p>note:\n   <code>dedalus2/test/cgle/liveplot.py</code> is fine and already had done xrange() -&gt; range(), so you're probably already aware of this.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-09-10T20:12:23.027373+00:00", "milestone": null, "updated_on": "2014-01-10T17:16:36.453758+00:00", "type": "issue", "id": 11}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/12/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/12.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/12/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/12/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/12/time-step-stability-tests-advection"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/12/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "Time-step stability tests (advection-diffusion first)", "component": null, "votes": 1, "watches": 3, "content": {"raw": "Dedalus needs a time-step stability test suite.\r\n\r\nWe need an automated testing suite that can map out the stability domain for our different time-stepping algorithms.  In particular, we should be able to create stability region maps like in Ascher et al. 1995 and Canuto et al. Appendix D, Figures D1 & D2.\r\n\r\nIn Dedalus, we can do this by solving a given linear equation set on a grid of variables, testing whether the amplitude (maybe integrated over the domain; L2 norm?) grows between successive timesteps.  \r\n\r\nMost previous work has been done semi-analytically and only addresses 2nd order finite difference or fourier spectra.  An advantage over work done previously is that we can numerically map out this stability domain for chebyshev and legendre grids, where some of the answers are not well known and hueristic rules are generally applied.\r\n\r\nWe can also map this domain out for different equation sets.  We should start with the simple 1-D advection-diffusion test, with\r\n```\r\n       \\partial_t Y = - c \\partial_x Y + \\lambda \\partial_{xx} Y\r\n```\r\nand constant advection speed `c` and diffusion coefficient `lambda`, but we could eventually test the thermal mode equation, etc.\r\n\r\nThis is straightforward to do for linear equation sets.  Testing non-linear timestepping is more challenging, but we might look at Burgers equation (as in Ascher et al. 1995).\r\n\r\n\r\nI can't assign this to me right now, but I'll take this on, as I need to understand why the CNAB3 timestepper is going unstable for an entropy-diffusion test.\r\n\r\n--Ben", "markup": "markdown", "html": "<p>Dedalus needs a time-step stability test suite.</p>\n<p>We need an automated testing suite that can map out the stability domain for our different time-stepping algorithms.  In particular, we should be able to create stability region maps like in Ascher et al. 1995 and Canuto et al. Appendix D, Figures D1 &amp; D2.</p>\n<p>In Dedalus, we can do this by solving a given linear equation set on a grid of variables, testing whether the amplitude (maybe integrated over the domain; L2 norm?) grows between successive timesteps.  </p>\n<p>Most previous work has been done semi-analytically and only addresses 2nd order finite difference or fourier spectra.  An advantage over work done previously is that we can numerically map out this stability domain for chebyshev and legendre grids, where some of the answers are not well known and hueristic rules are generally applied.</p>\n<p>We can also map this domain out for different equation sets.  We should start with the simple 1-D advection-diffusion test, with</p>\n<div class=\"codehilite\"><pre><span></span>       \\partial_t Y = - c \\partial_x Y + \\lambda \\partial_{xx} Y\n</pre></div>\n\n\n<p>and constant advection speed <code>c</code> and diffusion coefficient <code>lambda</code>, but we could eventually test the thermal mode equation, etc.</p>\n<p>This is straightforward to do for linear equation sets.  Testing non-linear timestepping is more challenging, but we might look at Burgers equation (as in Ascher et al. 1995).</p>\n<p>I can't assign this to me right now, but I'll take this on, as I need to understand why the CNAB3 timestepper is going unstable for an entropy-diffusion test.</p>\n<p>--Ben</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2013-09-16T16:09:37.443666+00:00", "milestone": null, "updated_on": "2013-10-08T16:49:01.603130+00:00", "type": "issue", "id": 12}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/13/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/13.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/13/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/13/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/13/add-integrate-method-to-basis"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/13/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "Add integrate method to basis", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The basis class should have an integrate method, like the differentiate method, to take advantage of basis-specific integration techniques.  This will be useful on data output, if nowhere else.", "markup": "markdown", "html": "<p>The basis class should have an integrate method, like the differentiate method, to take advantage of basis-specific integration techniques.  This will be useful on data output, if nowhere else.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-09-16T20:11:35.197447+00:00", "milestone": null, "updated_on": "2014-02-21T02:29:55.604575+00:00", "type": "issue", "id": 13}, {"priority": "trivial", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/14/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/14.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/14/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/14/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/14/add-verbose-flag-to-ok-in-integratorpy-to"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/14/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "Add verbose flag to ok() in integrator.py to suppress output?", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Would it be useful to add a verbosity flag to ok() in integrator.py to optionally suppress text output?\r\n\r\nThis has come up in the advection diffusion test, where I'm using\r\n```\r\n#!python\r\nfor a in a_array:\r\n     for b in b_array:\r\n            while int.ok:\r\n                  # testing loop goes here\r\n```\r\nto loop a test over a parameter space in a,b.  The side-effect is that extraneous \"Stop iteration reached.\" messages confuse the test outputs. ", "markup": "markdown", "html": "<p>Would it be useful to add a verbosity flag to ok() in integrator.py to optionally suppress text output?</p>\n<p>This has come up in the advection diffusion test, where I'm using</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">for</span> <span class=\"n\">a</span> <span class=\"ow\">in</span> <span class=\"n\">a_array</span><span class=\"p\">:</span>\n     <span class=\"k\">for</span> <span class=\"n\">b</span> <span class=\"ow\">in</span> <span class=\"n\">b_array</span><span class=\"p\">:</span>\n            <span class=\"k\">while</span> <span class=\"nb\">int</span><span class=\"o\">.</span><span class=\"n\">ok</span><span class=\"p\">:</span>\n                  <span class=\"c1\"># testing loop goes here</span>\n</pre></div>\n\n\n<p>to loop a test over a parameter space in a,b.  The side-effect is that extraneous \"Stop iteration reached.\" messages confuse the test outputs. </p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-09-16T20:17:55.097975+00:00", "milestone": null, "updated_on": "2014-01-14T17:49:17.483799+00:00", "type": "issue", "id": 14}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/15/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/15.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/15/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/15/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/15/liveplot-animation-vs-frames"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/15/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "Liveplot animation vs frames", "component": null, "votes": 0, "watches": 2, "content": {"raw": "This is a forward-looking bug notice.\r\n\r\nWhen grabbing Keaton's branch and testing one of the 2d problems, I noticed that the liveplot routines weren't posting anything to the screen.  The problem likely stems from incompatibilities between how matplotlib does animations and what mac os allows.  This is a known and currently unresolvable issue (e.g., https://github.com/matplotlib/matplotlib/issues/531) having to do with the macosx backend.\r\n\r\nOne short term solution is to output individual frames, and then stitch them together after the fact.  To do this in the various liveplot.py, replace\r\n```\r\nfig.canvas.draw()\r\n```\r\nwith\r\n```\r\nfig.savefig(\"frame_\"+str(\"{0:04}\").format(i)+\".png\", dpi=200)\r\n```\r\nor similar.\r\n\r\n\r\n\r\nHere's a possible longer term workaround:\r\nhttp://nbviewer.ipython.org/urls/raw.github.com/jakevdp/matplotlib_pydata2013/master/notebooks/05_Animations.ipynb\r\n\r\nHaven't tested it yet, as I don't know how to open Ipython notebooks yet.", "markup": "markdown", "html": "<p>This is a forward-looking bug notice.</p>\n<p>When grabbing Keaton's branch and testing one of the 2d problems, I noticed that the liveplot routines weren't posting anything to the screen.  The problem likely stems from incompatibilities between how matplotlib does animations and what mac os allows.  This is a known and currently unresolvable issue (e.g., <a href=\"https://github.com/matplotlib/matplotlib/issues/531\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/matplotlib/matplotlib/issues/531</a>) having to do with the macosx backend.</p>\n<p>One short term solution is to output individual frames, and then stitch them together after the fact.  To do this in the various liveplot.py, replace</p>\n<div class=\"codehilite\"><pre><span></span>fig.canvas.draw()\n</pre></div>\n\n\n<p>with</p>\n<div class=\"codehilite\"><pre><span></span>fig.savefig(&quot;frame_&quot;+str(&quot;{0:04}&quot;).format(i)+&quot;.png&quot;, dpi=200)\n</pre></div>\n\n\n<p>or similar.</p>\n<p>Here's a possible longer term workaround:\n<a href=\"http://nbviewer.ipython.org/urls/raw.github.com/jakevdp/matplotlib_pydata2013/master/notebooks/05_Animations.ipynb\" rel=\"nofollow\" class=\"ap-connect-link\">http://nbviewer.ipython.org/urls/raw.github.com/jakevdp/matplotlib_pydata2013/master/notebooks/05_Animations.ipynb</a></p>\n<p>Haven't tested it yet, as I don't know how to open Ipython notebooks yet.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-09-26T16:30:33.464335+00:00", "milestone": null, "updated_on": "2014-01-10T17:16:23.153417+00:00", "type": "issue", "id": 15}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/16/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/16.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/16/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/16/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/16/documentation"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/16/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Documentation", "component": null, "votes": 0, "watches": 2, "content": {"raw": "We need to begin documenting the code as soon as its API (and rough internal structure) becomes stable. That time is coming soon.", "markup": "markdown", "html": "<p>We need to begin documenting the code as soon as its API (and rough internal structure) becomes stable. That time is coming soon.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2013-10-03T21:18:03.183581+00:00", "milestone": null, "updated_on": "2014-01-14T17:51:02.410815+00:00", "type": "issue", "id": 16}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/17/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/17.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/17/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/17/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/17/example-notebooks-2-and3-dont-work"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/17/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Example notebooks 2 and3 don't work", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The example notebooks in the documentation repository do not work with the tip of dedalus. Notebook 2 does not work because the dedalus-project/dedalus_extras repository is currently empty. Notebook 3 fails because pencil building fails on transverse Fourier bases: \r\n\r\n```\r\nsolver = de.solvers.IVP(problem, domain, de.timesteppers.SBDF2)\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-11-88eff79b98e1> in <module>()\r\n----> 1 solver = de.solvers.IVP(problem, domain, de.timesteppers.SBDF2)\r\n\r\n/home/jsoishi/hg-projects/dedalus2/dedalus2/pde/solvers.py in __init__(self, problem, domain, timestepper)\r\n    132         write_progress = (domain.distributor.rank == 0)\r\n    133         for p in progress(pencils, desc='Building pencil matrices (rank 0):', write=write_progress, bar=False):\r\n--> 134             p.build_matrices(problem, primary_basis)\r\n    135 \r\n    136         # Build systems\r\n\r\n/home/jsoishi/hg-projects/dedalus2/dedalus2/data/pencil.py in build_matrices(self, problem, basis)\r\n    165         # Start G_bc with integral term, since the Int matrix is always defined\r\n    166         self.G_eq = F * kron(basis.Pre, Se)\r\n--> 167         self.G_bc = kron(basis.Int, Si)\r\n    168         if Sl.any():\r\n    169             self.G_bc = self.G_bc + kron(basis.Left, Sl)\r\n\r\n/home/jsoishi/build/lib/python3.3/site-packages/scipy/sparse/construct.py in kron(A, B, format)\r\n    299 \r\n    300     \"\"\"\r\n--> 301     B = coo_matrix(B)\r\n    302 \r\n    303     if (format is None or format == \"bsr\") and 2*B.nnz >= B.shape[0] * B.shape[1]:\r\n\r\n/home/jsoishi/build/lib/python3.3/site-packages/scipy/sparse/coo.py in __init__(self, arg1, shape, dtype, copy)\r\n    182                     raise TypeError('expected rank <= 2 array or matrix')\r\n    183 \r\n--> 184                 self.shape = M.shape\r\n    185                 self.row, self.col = M.nonzero()\r\n    186                 self.data  = M[self.row, self.col]\r\n\r\n/home/jsoishi/build/lib/python3.3/site-packages/scipy/sparse/base.py in set_shape(self, shape)\r\n     72 \r\n     73         if not (shape[0] >= 1 and shape[1] >= 1):\r\n---> 74             raise ValueError('invalid shape')\r\n     75 \r\n     76         if (self._shape != shape) and (self._shape is not None):\r\n\r\nValueError: invalid shape\r\n```", "markup": "markdown", "html": "<p>The example notebooks in the documentation repository do not work with the tip of dedalus. Notebook 2 does not work because the dedalus-project/dedalus_extras repository is currently empty. Notebook 3 fails because pencil building fails on transverse Fourier bases: </p>\n<div class=\"codehilite\"><pre><span></span>solver = de.solvers.IVP(problem, domain, de.timesteppers.SBDF2)\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-11-88eff79b98e1&gt; in &lt;module&gt;()\n----&gt; 1 solver = de.solvers.IVP(problem, domain, de.timesteppers.SBDF2)\n\n/home/jsoishi/hg-projects/dedalus2/dedalus2/pde/solvers.py in __init__(self, problem, domain, timestepper)\n    132         write_progress = (domain.distributor.rank == 0)\n    133         for p in progress(pencils, desc=&#39;Building pencil matrices (rank 0):&#39;, write=write_progress, bar=False):\n--&gt; 134             p.build_matrices(problem, primary_basis)\n    135 \n    136         # Build systems\n\n/home/jsoishi/hg-projects/dedalus2/dedalus2/data/pencil.py in build_matrices(self, problem, basis)\n    165         # Start G_bc with integral term, since the Int matrix is always defined\n    166         self.G_eq = F * kron(basis.Pre, Se)\n--&gt; 167         self.G_bc = kron(basis.Int, Si)\n    168         if Sl.any():\n    169             self.G_bc = self.G_bc + kron(basis.Left, Sl)\n\n/home/jsoishi/build/lib/python3.3/site-packages/scipy/sparse/construct.py in kron(A, B, format)\n    299 \n    300     &quot;&quot;&quot;\n--&gt; 301     B = coo_matrix(B)\n    302 \n    303     if (format is None or format == &quot;bsr&quot;) and 2*B.nnz &gt;= B.shape[0] * B.shape[1]:\n\n/home/jsoishi/build/lib/python3.3/site-packages/scipy/sparse/coo.py in __init__(self, arg1, shape, dtype, copy)\n    182                     raise TypeError(&#39;expected rank &lt;= 2 array or matrix&#39;)\n    183 \n--&gt; 184                 self.shape = M.shape\n    185                 self.row, self.col = M.nonzero()\n    186                 self.data  = M[self.row, self.col]\n\n/home/jsoishi/build/lib/python3.3/site-packages/scipy/sparse/base.py in set_shape(self, shape)\n     72 \n     73         if not (shape[0] &gt;= 1 and shape[1] &gt;= 1):\n---&gt; 74             raise ValueError(&#39;invalid shape&#39;)\n     75 \n     76         if (self._shape != shape) and (self._shape is not None):\n\nValueError: invalid shape\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2014-05-30T00:00:57.986234+00:00", "milestone": null, "updated_on": "2014-05-30T20:34:02.337146+00:00", "type": "issue", "id": 17}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/18/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/18.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/18/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/18/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/18/check-form-of-eigenvalue-and-boundary"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/18/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Check form of eigenvalue and boundary-value problems", "component": null, "votes": 0, "watches": 1, "content": {"raw": "We should check whether the RHS of problems passed to the LinearEigenvalue and LinearBVP solvers meet the requirements/assumptions of those solvers:\r\n\r\n-For eigenvalue problems, the RHS must be 0\r\n\r\n-For BVPs, the RHS can contain inhomogeneous terms, but shouldn't have any terms involving the fields.  (Note: a nonlinear BVP solver is also on the to-do list).", "markup": "markdown", "html": "<p>We should check whether the RHS of problems passed to the LinearEigenvalue and LinearBVP solvers meet the requirements/assumptions of those solvers:</p>\n<p>-For eigenvalue problems, the RHS must be 0</p>\n<p>-For BVPs, the RHS can contain inhomogeneous terms, but shouldn't have any terms involving the fields.  (Note: a nonlinear BVP solver is also on the to-do list).</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2014-07-13T14:01:47.384937+00:00", "milestone": null, "updated_on": "2015-02-25T23:51:21.680879+00:00", "type": "issue", "id": 18}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/19/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/19.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/19/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/19/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/19/interactive-field-saving-loading"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/19/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Interactive field saving/loading", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Better system for easily saving/loading fields, for interactive work or for linear solvers (i.e. outside of an Evaluator context).", "markup": "markdown", "html": "<p>Better system for easily saving/loading fields, for interactive work or for linear solvers (i.e. outside of an Evaluator context).</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "new", "version": null, "edited_on": null, "created_on": "2014-08-01T18:54:44.285163+00:00", "milestone": null, "updated_on": "2014-08-01T18:54:44.285163+00:00", "type": "issue", "id": 19}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/20/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/20.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/20/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/20/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/20/dropping-the-2"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/20/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Dropping the '2'", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Copying some discussion from an old pull request that I'm closing on this subject.", "markup": "markdown", "html": "<p>Copying some discussion from an old pull request that I'm closing on this subject.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2014-09-17T18:24:55.536614+00:00", "milestone": null, "updated_on": "2015-02-25T23:47:46.655512+00:00", "type": "issue", "id": 20}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/21/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/21.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/21/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/21/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/21/moveable-auto-installation"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/21/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Moveable auto installation", "component": null, "votes": 0, "watches": 2, "content": {"raw": "It might be nice if the isolated build coming out of the install script could be moved around the filesystem.  I'm not sure how feasible this is, but it would just be convenient if you decide you want to move/rename your installation and don't want to take the time to rebuild it all.  \r\n\r\nI'm not sure if this would just require changes to the activate script or if the linking during the build would also need to be changed?", "markup": "markdown", "html": "<p>It might be nice if the isolated build coming out of the install script could be moved around the filesystem.  I'm not sure how feasible this is, but it would just be convenient if you decide you want to move/rename your installation and don't want to take the time to rebuild it all.  </p>\n<p>I'm not sure if this would just require changes to the activate script or if the linking during the build would also need to be changed?</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "wontfix", "version": null, "edited_on": null, "created_on": "2014-11-14T19:38:35.727501+00:00", "milestone": null, "updated_on": "2020-03-19T18:54:10.934041+00:00", "type": "issue", "id": 21}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/22/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/22.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/22/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/22/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/22/intel-build-environment-squashing-locale"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/22/vote"}}, "reporter": {"display_name": "Max Hutchinson", "uuid": "{c3ee6db9-a2d0-4ec7-a528-daab6d351f6c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc3ee6db9-a2d0-4ec7-a528-daab6d351f6c%7D"}, "html": {"href": "https://bitbucket.org/%7Bc3ee6db9-a2d0-4ec7-a528-daab6d351f6c%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/5509648ce6ebfb0953dee9f5977a552fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMH-4.png"}}, "nickname": "maxhutch", "type": "user", "account_id": "557058:e9911fad-4396-40a7-b4be-620f25fbec30"}, "title": "Intel build environment squashing locale settings", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I'm trying to build on my workstation and can't get past this issue:\r\n\r\n```\r\n#!bash\r\n\r\nicc: command line warning #10006: ignoring unknown option '-fwrapv'\r\nCatastrophic error: could not set locale \"\" to allow processing of multibyte characters\r\n\r\n```\r\n\r\nWhich is weird, because if I manually execute the offending compile command, it throws some warnings but completes compilation.  I've included both commands below.\r\n\r\nIt seems like the python compile environment is suppressing the LANG environment variable, which [others have pointed to](https://software.intel.com/en-us/articles/cdiag912) as the source of this type of error.  In my shell, it is set:\r\n```\r\n\r\nmaxhutch@edoras:~/src/dedalus2$ env | grep LANG\r\nLANG=en_US.UTF-8\r\n\r\n```\r\n\r\n### Configuration ###\r\n * Debian Wheezy\r\n * Intel 14.0.1\r\n * Fresh (today) anaconda3 environment, with only dedalus installation directions followed\r\n * OpenMPI 1.6.5\r\n\r\n\r\n\r\n```\r\n#!bash\r\n\r\nmaxhutch@edoras:~/src/dedalus2$ ~/anaconda3/bin/python3 setup.py build_ext --inplaceLooking for fftw prefix\r\n  Found env var FFTW_PATH = /opt/fftw3/\r\nLooking for mpi prefix\r\n  Found env var MPI_PATH = /opt/openmpi/\r\nLooking for fftw prefix\r\n  Found env var FFTW_PATH = /opt/fftw3/\r\nrunning build_ext\r\nbuilding 'dedalus2.libraries.fftw.fftw_wrappers' extension\r\nicc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Idedalus2/libraries/fftw/ -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/mpi4py/include -I/opt/fftw3/include -I/opt/openmpi/include -I/home/maxhutch/anaconda3/include/python3.4m -c dedalus2/libraries/fftw/fftw_wrappers.c -o build/temp.linux-x86_64-3.4/dedalus2/libraries/fftw/fftw_wrappers.o\r\nicc: command line warning #10006: ignoring unknown option '-fwrapv'\r\nCatastrophic error: could not set locale \"\" to allow processing of multibyte characters\r\n\r\ncompilation aborted for dedalus2/libraries/fftw/fftw_wrappers.c (code 4)\r\nerror: command 'icc' failed with exit status 4\r\nmaxhutch@edoras:~/src/dedalus2$ icc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Idedalus2/libraries/fftw/ -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/mpi4py/include -I/opt/fftw3/include -I/opt/openmpi/include -I/home/maxhutch/anaconda3/include/python3.4m -c dedalus2/libraries/fftw/fftw_wrappers.c -o build/temp.linux-x86_64-3.4/dedalus2/libraries/fftw/fftw_wrappers.o\r\nicc: command line warning #10006: ignoring unknown option '-fwrapv'\r\nIn file included from /home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/ndarraytypes.h(1804),\r\n                 from /home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/ndarrayobject.h(17),\r\n                 from /home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/arrayobject.h(4),\r\n                 from dedalus2/libraries/fftw/fftw_wrappers.c(232):\r\n/home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h(15): warning #1224: #warning directive: \"Using deprecated NumPy API, disable it by \"          \"#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION\"\r\n  #warning \"Using deprecated NumPy API, disable it by \" \\\r\n   ^\r\n\r\ndedalus2/libraries/fftw/fftw_wrappers.c(6509): warning #167: argument of type \"int *\" is incompatible with parameter of type \"const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *\"\r\n    __pyx_v_self->forward_plan = fftw_plan_guru_r2r(__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_f, __pyx_v_gdata, __pyx_v_cdata, __pyx_v_kind, (__pyx_v_intflags | __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT));\r\n                                                                                                                                                                    ^\r\n\r\ndedalus2/libraries/fftw/fftw_wrappers.c(6518): warning #167: argument of type \"int *\" is incompatible with parameter of type \"const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *\"\r\n    __pyx_v_self->backward_plan = fftw_plan_guru_r2r(__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_b, __pyx_v_cdata, __pyx_v_gdata, __pyx_v_kind, (__pyx_v_intflags | __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT));\r\n                                                                                                                                                                     ^\r\n\r\ndedalus2/libraries/fftw/fftw_wrappers.c(8016): warning #167: argument of type \"int *\" is incompatible with parameter of type \"const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *\"\r\n    __pyx_v_self->forward_plan = fftw_plan_guru_r2r(__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_f, __pyx_v_gdata, __pyx_v_cdata, __pyx_v_kind, (__pyx_v_intflags | __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT));\r\n                                                                                                                                                                    ^\r\n\r\ndedalus2/libraries/fftw/fftw_wrappers.c(8025): warning #167: argument of type \"int *\" is incompatible with parameter of type \"const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *\"\r\n    __pyx_v_self->backward_plan = fftw_plan_guru_r2r(__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_b, __pyx_v_cdata, __pyx_v_gdata, __pyx_v_kind, (__pyx_v_intflags | __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT));\r\n                                                                                                                                                                     ^\r\n\r\nmaxhutch@edoras:~/src/dedalus2$ \r\n```", "markup": "markdown", "html": "<p>I'm trying to build on my workstation and can't get past this issue:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>icc: <span class=\"nb\">command</span> line warning <span class=\"c1\">#10006: ignoring unknown option &#39;-fwrapv&#39;</span>\nCatastrophic error: could not <span class=\"nb\">set</span> locale <span class=\"s2\">&quot;&quot;</span> to allow processing of multibyte characters\n</pre></div>\n\n\n<p>Which is weird, because if I manually execute the offending compile command, it throws some warnings but completes compilation.  I've included both commands below.</p>\n<p>It seems like the python compile environment is suppressing the LANG environment variable, which <a data-is-external-link=\"true\" href=\"https://software.intel.com/en-us/articles/cdiag912\" rel=\"nofollow\">others have pointed to</a> as the source of this type of error.  In my shell, it is set:</p>\n<div class=\"codehilite\"><pre><span></span>maxhutch@edoras:~/src/dedalus2$ env | grep LANG\nLANG=en_US.UTF-8\n</pre></div>\n\n\n<h3 id=\"markdown-header-configuration\">Configuration</h3>\n<ul>\n<li>Debian Wheezy</li>\n<li>Intel 14.0.1</li>\n<li>Fresh (today) anaconda3 environment, with only dedalus installation directions followed</li>\n<li>OpenMPI 1.6.5</li>\n</ul>\n<div class=\"codehilite language-bash\"><pre><span></span>maxhutch@edoras:~/src/dedalus2$ ~/anaconda3/bin/python3 setup.py build_ext --inplaceLooking <span class=\"k\">for</span> fftw prefix\n  Found env var <span class=\"nv\">FFTW_PATH</span> <span class=\"o\">=</span> /opt/fftw3/\nLooking <span class=\"k\">for</span> mpi prefix\n  Found env var <span class=\"nv\">MPI_PATH</span> <span class=\"o\">=</span> /opt/openmpi/\nLooking <span class=\"k\">for</span> fftw prefix\n  Found env var <span class=\"nv\">FFTW_PATH</span> <span class=\"o\">=</span> /opt/fftw3/\nrunning build_ext\nbuilding <span class=\"s1\">&#39;dedalus2.libraries.fftw.fftw_wrappers&#39;</span> extension\nicc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Idedalus2/libraries/fftw/ -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/mpi4py/include -I/opt/fftw3/include -I/opt/openmpi/include -I/home/maxhutch/anaconda3/include/python3.4m -c dedalus2/libraries/fftw/fftw_wrappers.c -o build/temp.linux-x86_64-3.4/dedalus2/libraries/fftw/fftw_wrappers.o\nicc: <span class=\"nb\">command</span> line warning <span class=\"c1\">#10006: ignoring unknown option &#39;-fwrapv&#39;</span>\nCatastrophic error: could not <span class=\"nb\">set</span> locale <span class=\"s2\">&quot;&quot;</span> to allow processing of multibyte characters\n\ncompilation aborted <span class=\"k\">for</span> dedalus2/libraries/fftw/fftw_wrappers.c <span class=\"o\">(</span>code <span class=\"m\">4</span><span class=\"o\">)</span>\nerror: <span class=\"nb\">command</span> <span class=\"s1\">&#39;icc&#39;</span> failed with <span class=\"nb\">exit</span> status <span class=\"m\">4</span>\nmaxhutch@edoras:~/src/dedalus2$ icc -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Idedalus2/libraries/fftw/ -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include -I/home/maxhutch/anaconda3/lib/python3.4/site-packages/mpi4py/include -I/opt/fftw3/include -I/opt/openmpi/include -I/home/maxhutch/anaconda3/include/python3.4m -c dedalus2/libraries/fftw/fftw_wrappers.c -o build/temp.linux-x86_64-3.4/dedalus2/libraries/fftw/fftw_wrappers.o\nicc: <span class=\"nb\">command</span> line warning <span class=\"c1\">#10006: ignoring unknown option &#39;-fwrapv&#39;</span>\nIn file included from /home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/ndarraytypes.h<span class=\"o\">(</span><span class=\"m\">1804</span><span class=\"o\">)</span>,\n                 from /home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/ndarrayobject.h<span class=\"o\">(</span><span class=\"m\">17</span><span class=\"o\">)</span>,\n                 from /home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/arrayobject.h<span class=\"o\">(</span><span class=\"m\">4</span><span class=\"o\">)</span>,\n                 from dedalus2/libraries/fftw/fftw_wrappers.c<span class=\"o\">(</span><span class=\"m\">232</span><span class=\"o\">)</span>:\n/home/maxhutch/anaconda3/lib/python3.4/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h<span class=\"o\">(</span><span class=\"m\">15</span><span class=\"o\">)</span>: warning <span class=\"c1\">#1224: #warning directive: &quot;Using deprecated NumPy API, disable it by &quot;          &quot;#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION&quot;</span>\n  <span class=\"c1\">#warning &quot;Using deprecated NumPy API, disable it by &quot; \\</span>\n   ^\n\ndedalus2/libraries/fftw/fftw_wrappers.c<span class=\"o\">(</span><span class=\"m\">6509</span><span class=\"o\">)</span>: warning <span class=\"c1\">#167: argument of type &quot;int *&quot; is incompatible with parameter of type &quot;const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *&quot;</span>\n    __pyx_v_self-&gt;forward_plan <span class=\"o\">=</span> fftw_plan_guru_r2r<span class=\"o\">(</span>__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_f, __pyx_v_gdata, __pyx_v_cdata, __pyx_v_kind, <span class=\"o\">(</span>__pyx_v_intflags <span class=\"p\">|</span> __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT<span class=\"o\">))</span><span class=\"p\">;</span>\n                                                                                                                                                                    ^\n\ndedalus2/libraries/fftw/fftw_wrappers.c<span class=\"o\">(</span><span class=\"m\">6518</span><span class=\"o\">)</span>: warning <span class=\"c1\">#167: argument of type &quot;int *&quot; is incompatible with parameter of type &quot;const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *&quot;</span>\n    __pyx_v_self-&gt;backward_plan <span class=\"o\">=</span> fftw_plan_guru_r2r<span class=\"o\">(</span>__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_b, __pyx_v_cdata, __pyx_v_gdata, __pyx_v_kind, <span class=\"o\">(</span>__pyx_v_intflags <span class=\"p\">|</span> __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT<span class=\"o\">))</span><span class=\"p\">;</span>\n                                                                                                                                                                     ^\n\ndedalus2/libraries/fftw/fftw_wrappers.c<span class=\"o\">(</span><span class=\"m\">8016</span><span class=\"o\">)</span>: warning <span class=\"c1\">#167: argument of type &quot;int *&quot; is incompatible with parameter of type &quot;const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *&quot;</span>\n    __pyx_v_self-&gt;forward_plan <span class=\"o\">=</span> fftw_plan_guru_r2r<span class=\"o\">(</span>__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_f, __pyx_v_gdata, __pyx_v_cdata, __pyx_v_kind, <span class=\"o\">(</span>__pyx_v_intflags <span class=\"p\">|</span> __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT<span class=\"o\">))</span><span class=\"p\">;</span>\n                                                                                                                                                                    ^\n\ndedalus2/libraries/fftw/fftw_wrappers.c<span class=\"o\">(</span><span class=\"m\">8025</span><span class=\"o\">)</span>: warning <span class=\"c1\">#167: argument of type &quot;int *&quot; is incompatible with parameter of type &quot;const fftw_r2r_kind={enum fftw_r2r_kind_do_not_use_me} *&quot;</span>\n    __pyx_v_self-&gt;backward_plan <span class=\"o\">=</span> fftw_plan_guru_r2r<span class=\"o\">(</span>__pyx_v_trans_rank, __pyx_v_trans_struct, __pyx_v_vec_rank, __pyx_v_vec_struct_b, __pyx_v_cdata, __pyx_v_gdata, __pyx_v_kind, <span class=\"o\">(</span>__pyx_v_intflags <span class=\"p\">|</span> __pyx_e_8dedalus2_9libraries_4fftw_10fftw_c_api_FFTW_DESTROY_INPUT<span class=\"o\">))</span><span class=\"p\">;</span>\n                                                                                                                                                                     ^\n\nmaxhutch@edoras:~/src/dedalus2$ \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2015-02-06T15:44:48.050973+00:00", "milestone": null, "updated_on": "2018-10-30T21:16:45.730475+00:00", "type": "issue", "id": 22}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/23/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/23.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/23/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/23/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/23/plot_operator-no-longer-works"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/23/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "plot_operator no longer works", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The plot_operator no longer properly draws a graph of operator trees. Using the example in the example notebook, this\r\n\r\n```\r\n#!python\r\nadd_op = 10 + f\r\ntree_op = 2*add_op + f*f\r\nfrom dedalus.tools.plot_op import plot_operator\r\nplot_operator(tree_op, figsize=8, fontsize=12)\r\n\r\n```\r\n\r\nnow draws a single bubble with the entire expression in it.\r\n", "markup": "markdown", "html": "<p>The plot_operator no longer properly draws a graph of operator trees. Using the example in the example notebook, this</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">add_op</span> <span class=\"o\">=</span> <span class=\"mi\">10</span> <span class=\"o\">+</span> <span class=\"n\">f</span>\n<span class=\"n\">tree_op</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">add_op</span> <span class=\"o\">+</span> <span class=\"n\">f</span><span class=\"o\">*</span><span class=\"n\">f</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dedalus.tools.plot_op</span> <span class=\"kn\">import</span> <span class=\"n\">plot_operator</span>\n<span class=\"n\">plot_operator</span><span class=\"p\">(</span><span class=\"n\">tree_op</span><span class=\"p\">,</span> <span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"n\">fontsize</span><span class=\"o\">=</span><span class=\"mi\">12</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>now draws a single bubble with the entire expression in it.</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-02-26T19:47:00.178589+00:00", "milestone": null, "updated_on": "2015-02-26T22:54:15.723927+00:00", "type": "issue", "id": 23}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/24/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/24.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/24/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/24/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/24/integrate-method-of-field-objects-no"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/24/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "`integrate()` method of field objects no longer works", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The ` integrate()` method on field objects does not work, because it passes `*bases` to the `Integrate` operator, which does not expect arbitrary length argument fields.", "markup": "markdown", "html": "<p>The <code>integrate()</code> method on field objects does not work, because it passes <code>*bases</code> to the <code>Integrate</code> operator, which does not expect arbitrary length argument fields.</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-02-26T20:04:09.894031+00:00", "milestone": null, "updated_on": "2015-02-26T22:46:20.802264+00:00", "type": "issue", "id": 24}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/25/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/25.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/25/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/25/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/25/documentation-should-include-commit"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/25/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Documentation should include commit policies", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Given our recent issue where we accidentally PR'd a branch, requiring a graft/strip operation on everyone, we should write a document outlining our development practices. This will bring more openness to our development community.", "markup": "markdown", "html": "<p>Given our recent issue where we accidentally PR'd a branch, requiring a graft/strip operation on everyone, we should write a document outlining our development practices. This will bring more openness to our development community.</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "new", "version": null, "edited_on": null, "created_on": "2015-03-03T18:14:25.619554+00:00", "milestone": null, "updated_on": "2015-03-03T18:14:25.619554+00:00", "type": "issue", "id": 25}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/26/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/26.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/26/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/26/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/26/examples-should-include-an-eigenvalue"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/26/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Examples should include an Eigenvalue problem", "component": null, "votes": 0, "watches": 1, "content": {"raw": "We should create an eigenvalue example", "markup": "markdown", "html": "<p>We should create an eigenvalue example</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-03-16T11:53:45.934972+00:00", "milestone": null, "updated_on": "2015-03-16T21:48:36.052337+00:00", "type": "issue", "id": 26}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/27/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/27.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/27/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/27/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/27/error-does-not-make-sense-for-using-bcs"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/27/vote"}}, "reporter": {"display_name": "Jhett Bordwell", "uuid": "{edb9d81e-36cd-4d5d-bdcf-b73e3d2a962d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bedb9d81e-36cd-4d5d-bdcf-b73e3d2a962d%7D"}, "html": {"href": "https://bitbucket.org/%7Bedb9d81e-36cd-4d5d-bdcf-b73e3d2a962d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:490cfe71-054b-408c-9f37-3fae874b19cc/051f0265-517a-44eb-89f3-7b2c482c6419/128"}}, "nickname": "jhbordwell", "type": "user", "account_id": "557058:490cfe71-054b-408c-9f37-3fae874b19cc"}, "title": "Error does not make sense for using BCs with a fully Fourier domain", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The error message that you receive when using BCs with a fully Fourier domain is probably not the most helpful. While there is a helpful message given in pencils.py (L90), another error is raised first. Instead of receiving a message about not setting boundary conditions, you receive, \"LHS operator {} is coupled along direction {}\" from operators.py (L1185).", "markup": "markdown", "html": "<p>The error message that you receive when using BCs with a fully Fourier domain is probably not the most helpful. While there is a helpful message given in pencils.py (L90), another error is raised first. Instead of receiving a message about not setting boundary conditions, you receive, \"LHS operator {} is coupled along direction {}\" from operators.py (L1185).</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-06-22T19:00:37.302495+00:00", "milestone": null, "updated_on": "2015-07-15T01:37:33.719366+00:00", "type": "issue", "id": 27}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/28/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/28.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/28/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/28/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/28/non-integer-resolution-values-dont-work"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/28/vote"}}, "reporter": {"display_name": "Jhett Bordwell", "uuid": "{edb9d81e-36cd-4d5d-bdcf-b73e3d2a962d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bedb9d81e-36cd-4d5d-bdcf-b73e3d2a962d%7D"}, "html": {"href": "https://bitbucket.org/%7Bedb9d81e-36cd-4d5d-bdcf-b73e3d2a962d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:490cfe71-054b-408c-9f37-3fae874b19cc/051f0265-517a-44eb-89f3-7b2c482c6419/128"}}, "nickname": "jhbordwell", "type": "user", "account_id": "557058:490cfe71-054b-408c-9f37-3fae874b19cc"}, "title": "Non-integer resolution values don't work with Fourier bases", "component": null, "votes": 0, "watches": 3, "content": {"raw": "When providing a non-integer value for the number of elements when initializing a Fourier basis, Dedalus spits out the error that,\r\n\r\nTraceback (most recent call last):\r\n\r\n  File \"nd_dust_model_2d.py\", line 28, in <module>\r\n\r\n    domain = de.Domain([x_basis, y_basis], grid_dtype=np.float64)\r\n\r\n  File \"/usr/local/dedalus/src/dedalus/dedalus/core/domain.py\", line 46, in __init__\r\n    grid_dtype = basis.set_dtype(grid_dtype)\r\n\r\n  File \"/usr/local/dedalus/src/dedalus/dedalus/core/basis.py\", line 609, in set_dtype\r\n    native_wavenumbers = np.roll(np.arange(-kmax, kmax+1), -kmax)\r\n\r\n  File \"/usr/local/dedalus/lib/python3.4/site-packages/numpy/core/numeric.py\", line 1294, in roll\r\n    res = a.take(indexes, axis)\r\n\r\nTypeError: Cannot cast array data from dtype('float64') to dtype('int64') according to the rule 'safe'", "markup": "markdown", "html": "<p>When providing a non-integer value for the number of elements when initializing a Fourier basis, Dedalus spits out the error that,</p>\n<p>Traceback (most recent call last):</p>\n<p>File \"nd_dust_model_2d.py\", line 28, in &lt;module&gt;</p>\n<div class=\"codehilite\"><pre><span></span>domain = de.Domain([x_basis, y_basis], grid_dtype=np.float64)\n</pre></div>\n\n\n<p>File \"/usr/local/dedalus/src/dedalus/dedalus/core/domain.py\", line 46, in <strong>init</strong>\n    grid_dtype = basis.set_dtype(grid_dtype)</p>\n<p>File \"/usr/local/dedalus/src/dedalus/dedalus/core/basis.py\", line 609, in set_dtype\n    native_wavenumbers = np.roll(np.arange(-kmax, kmax+1), -kmax)</p>\n<p>File \"/usr/local/dedalus/lib/python3.4/site-packages/numpy/core/numeric.py\", line 1294, in roll\n    res = a.take(indexes, axis)</p>\n<p>TypeError: Cannot cast array data from dtype('float64') to dtype('int64') according to the rule 'safe'</p>", "type": "rendered"}, "assignee": null, "state": "wontfix", "version": null, "edited_on": null, "created_on": "2015-06-22T19:03:41.407990+00:00", "milestone": null, "updated_on": "2018-10-30T21:18:57.878086+00:00", "type": "issue", "id": 28}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/29/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/29.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/29/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/29/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/29/proper-evaluation-of-duplicated-subtrees"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/29/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "Proper evaluation of duplicated subtrees", "component": null, "votes": 0, "watches": 2, "content": {"raw": "I've come across an interesting parser/substitution problem with the integ() operator, when applied across the whole domain.  This is for a 2-D problem, Fourier (\"x\") -- Chebyshev (\"z\").\r\n\r\nI defined two averaging types, one over planes perpendicular to the chebyshev direction, and one over the whole domain:\r\n```\r\n#!python\r\n\r\nproblem.substitutions['plane_avg(A)'] = 'integ(A, \"x\")/Lx'\r\nproblem.substitutions['vol_avg(A)']   = 'integ(A)/Lx/Lz'\r\n\r\n```\r\n\r\nand a substitiution:\r\n```\r\n#!python\r\n\r\n\r\nproblem.substitutions['enstrophy'] = '(dx(w) - u_z)**2'\r\n```\r\n\r\nAfter setting up equations, etc. I initialize slice, profile_avg and vol_avg (scalar) outputs, each in their own file:\r\n\r\n\r\n```\r\n#!python\r\n\r\nanalysis_slice = solver.evaluator.add_file_handler(data_dir+\"slices\", max_writes=20, parallel=False, **kwargs)\r\nanalysis_slice.add_task(\"enstrophy\", name=\"enstrophy\")\r\n\r\nanalysis_profile = solver.evaluator.add_file_handler(data_dir+\"profiles\", max_writes=20, parallel=False, **kwargs)\r\nanalysis_profile.add_task(\"plane_avg(enstrophy)\", name=\"enstrophy\")\r\n\r\nanalysis_scalar = solver.evaluator.add_file_handler(data_dir+\"scalar\", max_writes=20, parallel=False, **kwargs)\r\nanalysis_scalar.add_task(\"vol_avg(enstrophy)\", name=\"enstrophy\")\r\n```\r\n\r\n\r\nThat code fails with the following grid-data error:\r\n\r\n```\r\n#!python\r\n\r\n\r\nTraceback (most recent call last):\r\nFile \"FC_fixed_kappa_1e6.py\", line 111, in <module>\r\nsolver.step(dt)\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/solvers.py\", line 339, in step\r\nself.timestepper.step(self, dt, wall_time)\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/timesteppers.py\", line 528, in step\r\nevaluator.evaluate_scheduled(wall_time, solver.sim_time, iteration)\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/evaluator.py\", line 97, in evaluate_scheduled\r\nself.evaluate_handlers(scheduled_handlers, wall_time, sim_time, iteration)\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/evaluator.py\", line 127, in evaluate_handlers\r\nself.domain.dist.paths[next_index].decrement(fields)\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/distributor.py\", line 343, in decrement\r\nself.decrement_single(field)\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/distributor.py\", line 323, in decrement_single\r\nself.basis.forward(gdata, cdata, self.axis, field.meta[self.axis])\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/basis.py\", line 717, in _forward_fftw\r\ncdata, gdata = self.check_arrays(cdata, gdata, axis)\r\nFile \"/u/bpbrown/build/dedalus/dedalus/core/basis.py\", line 148, in check_arrays\r\nraise ValueError(\"gdata does not match grid_dtype\")\r\nValueError: gdata does not match grid_dtype\r\n```\r\n\r\n\r\nChanging only the very last line of the analysis code block:\r\n```\r\n#!python\r\n\r\nanalysis_scalar.add_task(\"vol_avg(enstrophy)\", name=\"enstrophy\")\r\n```\r\nto do the substitution manually:\r\n```\r\n#!python\r\n\r\nanalysis_scalar.add_task(\"vol_avg((dx(w) - u_z)**2)\", name=\"enstrophy\")\r\n```\r\ncauses the code to run fine and trigger no such error.\r\n\r\n\r\nThis seems like some form of substitution/parser bug.  Any ideas?", "markup": "markdown", "html": "<p>I've come across an interesting parser/substitution problem with the integ() operator, when applied across the whole domain.  This is for a 2-D problem, Fourier (\"x\") -- Chebyshev (\"z\").</p>\n<p>I defined two averaging types, one over planes perpendicular to the chebyshev direction, and one over the whole domain:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">problem</span><span class=\"o\">.</span><span class=\"n\">substitutions</span><span class=\"p\">[</span><span class=\"s1\">&#39;plane_avg(A)&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;integ(A, &quot;x&quot;)/Lx&#39;</span>\n<span class=\"n\">problem</span><span class=\"o\">.</span><span class=\"n\">substitutions</span><span class=\"p\">[</span><span class=\"s1\">&#39;vol_avg(A)&#39;</span><span class=\"p\">]</span>   <span class=\"o\">=</span> <span class=\"s1\">&#39;integ(A)/Lx/Lz&#39;</span>\n</pre></div>\n\n\n<p>and a substitiution:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">problem</span><span class=\"o\">.</span><span class=\"n\">substitutions</span><span class=\"p\">[</span><span class=\"s1\">&#39;enstrophy&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;(dx(w) - u_z)**2&#39;</span>\n</pre></div>\n\n\n<p>After setting up equations, etc. I initialize slice, profile_avg and vol_avg (scalar) outputs, each in their own file:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">analysis_slice</span> <span class=\"o\">=</span> <span class=\"n\">solver</span><span class=\"o\">.</span><span class=\"n\">evaluator</span><span class=\"o\">.</span><span class=\"n\">add_file_handler</span><span class=\"p\">(</span><span class=\"n\">data_dir</span><span class=\"o\">+</span><span class=\"s2\">&quot;slices&quot;</span><span class=\"p\">,</span> <span class=\"n\">max_writes</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"n\">parallel</span><span class=\"o\">=</span><span class=\"bp\">False</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n<span class=\"n\">analysis_slice</span><span class=\"o\">.</span><span class=\"n\">add_task</span><span class=\"p\">(</span><span class=\"s2\">&quot;enstrophy&quot;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;enstrophy&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">analysis_profile</span> <span class=\"o\">=</span> <span class=\"n\">solver</span><span class=\"o\">.</span><span class=\"n\">evaluator</span><span class=\"o\">.</span><span class=\"n\">add_file_handler</span><span class=\"p\">(</span><span class=\"n\">data_dir</span><span class=\"o\">+</span><span class=\"s2\">&quot;profiles&quot;</span><span class=\"p\">,</span> <span class=\"n\">max_writes</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"n\">parallel</span><span class=\"o\">=</span><span class=\"bp\">False</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n<span class=\"n\">analysis_profile</span><span class=\"o\">.</span><span class=\"n\">add_task</span><span class=\"p\">(</span><span class=\"s2\">&quot;plane_avg(enstrophy)&quot;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;enstrophy&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">analysis_scalar</span> <span class=\"o\">=</span> <span class=\"n\">solver</span><span class=\"o\">.</span><span class=\"n\">evaluator</span><span class=\"o\">.</span><span class=\"n\">add_file_handler</span><span class=\"p\">(</span><span class=\"n\">data_dir</span><span class=\"o\">+</span><span class=\"s2\">&quot;scalar&quot;</span><span class=\"p\">,</span> <span class=\"n\">max_writes</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"n\">parallel</span><span class=\"o\">=</span><span class=\"bp\">False</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n<span class=\"n\">analysis_scalar</span><span class=\"o\">.</span><span class=\"n\">add_task</span><span class=\"p\">(</span><span class=\"s2\">&quot;vol_avg(enstrophy)&quot;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;enstrophy&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>That code fails with the following grid-data error:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;FC_fixed_kappa_1e6.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">111</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n<span class=\"n\">solver</span><span class=\"o\">.</span><span class=\"n\">step</span><span class=\"p\">(</span><span class=\"n\">dt</span><span class=\"p\">)</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/solvers.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">339</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">step</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">timestepper</span><span class=\"o\">.</span><span class=\"n\">step</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">dt</span><span class=\"p\">,</span> <span class=\"n\">wall_time</span><span class=\"p\">)</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/timesteppers.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">528</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">step</span>\n<span class=\"n\">evaluator</span><span class=\"o\">.</span><span class=\"n\">evaluate_scheduled</span><span class=\"p\">(</span><span class=\"n\">wall_time</span><span class=\"p\">,</span> <span class=\"n\">solver</span><span class=\"o\">.</span><span class=\"n\">sim_time</span><span class=\"p\">,</span> <span class=\"n\">iteration</span><span class=\"p\">)</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/evaluator.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">97</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">evaluate_scheduled</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">evaluate_handlers</span><span class=\"p\">(</span><span class=\"n\">scheduled_handlers</span><span class=\"p\">,</span> <span class=\"n\">wall_time</span><span class=\"p\">,</span> <span class=\"n\">sim_time</span><span class=\"p\">,</span> <span class=\"n\">iteration</span><span class=\"p\">)</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/evaluator.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">127</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">evaluate_handlers</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">domain</span><span class=\"o\">.</span><span class=\"n\">dist</span><span class=\"o\">.</span><span class=\"n\">paths</span><span class=\"p\">[</span><span class=\"n\">next_index</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">decrement</span><span class=\"p\">(</span><span class=\"n\">fields</span><span class=\"p\">)</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/distributor.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">343</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">decrement</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">decrement_single</span><span class=\"p\">(</span><span class=\"n\">field</span><span class=\"p\">)</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/distributor.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">323</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">decrement_single</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">basis</span><span class=\"o\">.</span><span class=\"n\">forward</span><span class=\"p\">(</span><span class=\"n\">gdata</span><span class=\"p\">,</span> <span class=\"n\">cdata</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">axis</span><span class=\"p\">,</span> <span class=\"n\">field</span><span class=\"o\">.</span><span class=\"n\">meta</span><span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">axis</span><span class=\"p\">])</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/basis.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">717</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">_forward_fftw</span>\n<span class=\"n\">cdata</span><span class=\"p\">,</span> <span class=\"n\">gdata</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">check_arrays</span><span class=\"p\">(</span><span class=\"n\">cdata</span><span class=\"p\">,</span> <span class=\"n\">gdata</span><span class=\"p\">,</span> <span class=\"n\">axis</span><span class=\"p\">)</span>\n<span class=\"n\">File</span> <span class=\"s2\">&quot;/u/bpbrown/build/dedalus/dedalus/core/basis.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">148</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">check_arrays</span>\n<span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s2\">&quot;gdata does not match grid_dtype&quot;</span><span class=\"p\">)</span>\n<span class=\"ne\">ValueError</span><span class=\"p\">:</span> <span class=\"n\">gdata</span> <span class=\"n\">does</span> <span class=\"ow\">not</span> <span class=\"n\">match</span> <span class=\"n\">grid_dtype</span>\n</pre></div>\n\n\n<p>Changing only the very last line of the analysis code block:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">analysis_scalar</span><span class=\"o\">.</span><span class=\"n\">add_task</span><span class=\"p\">(</span><span class=\"s2\">&quot;vol_avg(enstrophy)&quot;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;enstrophy&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>to do the substitution manually:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">analysis_scalar</span><span class=\"o\">.</span><span class=\"n\">add_task</span><span class=\"p\">(</span><span class=\"s2\">&quot;vol_avg((dx(w) - u_z)**2)&quot;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;enstrophy&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>causes the code to run fine and trigger no such error.</p>\n<p>This seems like some form of substitution/parser bug.  Any ideas?</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-06-25T04:30:56.605254+00:00", "milestone": null, "updated_on": "2018-10-30T21:07:57.014588+00:00", "type": "issue", "id": 29}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/30/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/30.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/30/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/30/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/30/evp-should-be-able-to-automatically-set"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/30/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "EVP should be able to automatically set RHS to zero", "component": null, "votes": 0, "watches": 3, "content": {"raw": "It would be nice to be able to do EVP problems on some of our fully non-linear equation sets.  Right now, this does not seem to be feasible without significantly modifying the equations (explicitly setting the RHS to zero).  This may not be desirable, if you want to make sure that say linear stability analysis via EVP and nonlinear behaviour studies via IVP are one-to-one.\r\n\r\nIt would be nice if EVP could take an optional keyword which goes in and zeros out the RHS for a set of equations within EVP only.  Then the same equation set could be used for both EVPs and IVPs, with modification only at the problem instantiation level.  This should be an optional keyword (with default value False) so that the user needs to explicitly select that this behaviour should occur.\r\n\r\nThis could eliminate a class of errors where mistakes in the EVP equations are fixed but are not correctly propagated to the corresponding IVP equations.\r\n\r\nThis capability does not appear to be present in problems.py.", "markup": "markdown", "html": "<p>It would be nice to be able to do EVP problems on some of our fully non-linear equation sets.  Right now, this does not seem to be feasible without significantly modifying the equations (explicitly setting the RHS to zero).  This may not be desirable, if you want to make sure that say linear stability analysis via EVP and nonlinear behaviour studies via IVP are one-to-one.</p>\n<p>It would be nice if EVP could take an optional keyword which goes in and zeros out the RHS for a set of equations within EVP only.  Then the same equation set could be used for both EVPs and IVPs, with modification only at the problem instantiation level.  This should be an optional keyword (with default value False) so that the user needs to explicitly select that this behaviour should occur.</p>\n<p>This could eliminate a class of errors where mistakes in the EVP equations are fixed but are not correctly propagated to the corresponding IVP equations.</p>\n<p>This capability does not appear to be present in problems.py.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-06-25T04:38:37.736540+00:00", "milestone": null, "updated_on": "2015-06-30T22:06:31.491553+00:00", "type": "issue", "id": 30}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/31/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/31.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/31/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/31/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/31/cant-use-variable-h"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/31/vote"}}, "reporter": {"display_name": "Jhett Bordwell", "uuid": "{edb9d81e-36cd-4d5d-bdcf-b73e3d2a962d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bedb9d81e-36cd-4d5d-bdcf-b73e3d2a962d%7D"}, "html": {"href": "https://bitbucket.org/%7Bedb9d81e-36cd-4d5d-bdcf-b73e3d2a962d%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:490cfe71-054b-408c-9f37-3fae874b19cc/051f0265-517a-44eb-89f3-7b2c482c6419/128"}}, "nickname": "jhbordwell", "type": "user", "account_id": "557058:490cfe71-054b-408c-9f37-3fae874b19cc"}, "title": "Can't use variable 'H'", "component": null, "votes": 0, "watches": 2, "content": {"raw": "In attempting to automatically generate a large number of equations to explore an extended chemical network, I ran into an interesting bug. When 'H' is used as a variable, I received the following error upon including an \"exp(H)\" term in my equation,\r\n\r\n*** AttributeError: 'function' object has no attribute 'exp'\r\n\r\nI checked if this occurs for any other letter of the alphabet, and it does not.", "markup": "markdown", "html": "<p>In attempting to automatically generate a large number of equations to explore an extended chemical network, I ran into an interesting bug. When 'H' is used as a variable, I received the following error upon including an \"exp(H)\" term in my equation,</p>\n<p>*** AttributeError: 'function' object has no attribute 'exp'</p>\n<p>I checked if this occurs for any other letter of the alphabet, and it does not.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-07-14T18:55:56.486487+00:00", "milestone": null, "updated_on": "2015-07-15T01:12:29.382909+00:00", "type": "issue", "id": 31}, {"priority": "minor", "kind": "task", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/32/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/32.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/32/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/32/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/32/not-able-to-install-dedalus-packages-using"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/32/vote"}}, "reporter": {"display_name": "Hemant Khatri", "uuid": "{9d70ea3a-2250-48bb-8d30-17d3ecc83320}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B9d70ea3a-2250-48bb-8d30-17d3ecc83320%7D"}, "html": {"href": "https://bitbucket.org/%7B9d70ea3a-2250-48bb-8d30-17d3ecc83320%7D/"}, "avatar": {"href": "https://bitbucket.org/account/hk310/avatar/"}}, "nickname": "hk310", "type": "user", "account_id": null}, "title": "Not able to install dedalus packages using pip3", "component": null, "votes": 0, "watches": 3, "content": {"raw": "Hi ,\r\n\r\nI am trying to install packages which are given in the file requirements.txt but it gives an error using pip3 command (Cannot fetch index base URL https://pypi.python.org/simple/\r\n).  I even tried manually exporting the proxy and installing the packages one by one; but nothing helped. \r\n\r\nCan anyone please help regarding this?\r\nThanks", "markup": "markdown", "html": "<p>Hi ,</p>\n<p>I am trying to install packages which are given in the file requirements.txt but it gives an error using pip3 command (Cannot fetch index base URL <a href=\"https://pypi.python.org/simple/\" rel=\"nofollow\" class=\"ap-connect-link\">https://pypi.python.org/simple/</a>\n).  I even tried manually exporting the proxy and installing the packages one by one; but nothing helped. </p>\n<p>Can anyone please help regarding this?\nThanks</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2015-08-17T06:09:46.136422+00:00", "milestone": null, "updated_on": "2018-10-30T21:19:21.674622+00:00", "type": "issue", "id": 32}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/33/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/33.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/33/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/33/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/33/simulations-with-uncoupled-matrices-fail"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/33/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Simulations with uncoupled matrices fail", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Simulations without coupled bases (e.g. Fourier and Sin/Cos) now fail when the timestepper checks the Pencil.dirichlet attribute. This is because the dirichlet attribute is only added for coupled matrices. ", "markup": "markdown", "html": "<p>Simulations without coupled bases (e.g. Fourier and Sin/Cos) now fail when the timestepper checks the Pencil.dirichlet attribute. This is because the dirichlet attribute is only added for coupled matrices. </p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "closed", "version": null, "edited_on": null, "created_on": "2015-10-02T19:04:56.050473+00:00", "milestone": null, "updated_on": "2015-10-02T19:34:30.757407+00:00", "type": "issue", "id": 33}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/34/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/34.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/34/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/34/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/34/stable-releases"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/34/vote"}}, "reporter": {"display_name": "Evan Anders", "uuid": "{ce45a673-fcc9-48fc-a547-f4ee9f3a8020}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bce45a673-fcc9-48fc-a547-f4ee9f3a8020%7D"}, "html": {"href": "https://bitbucket.org/%7Bce45a673-fcc9-48fc-a547-f4ee9f3a8020%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:320d4568-38ec-40ab-9264-ac9b3760572a/7e7ec364-57a7-4b6a-809c-b17a66066163/128"}}, "nickname": "evanhanders", "type": "user", "account_id": "557058:320d4568-38ec-40ab-9264-ac9b3760572a"}, "title": "Stable Releases", "component": null, "votes": 0, "watches": 3, "content": {"raw": "It's that time of year again when Ben's math methods class is tasked with installing Dedalus...and it seems like they're having only slightly less trouble than we had a year ago.  A Mac seems to have successfully installed Dedalus with ease, whereas last year the students with Macs essentially gave up.  And now (see user group thread by Adam Schiff) Ubuntu seems to be the OS with weird problems.\r\n\r\nWould it be possible to prepare \"stable releases\" of Dedalus?  Basically rather than having anyone new to Dedalus install the cutting-edge newest pushes from the repository, it might be better to have installation options that look at older, more stable commits.\r\n\r\nThe easiest way to implement this would probably be to add a line to the install script that points to the commit that it should be updated to (rather than tip).\r\n\r\nThis isn't at all crucial, but someone mentioned it begrudgingly today (something along the lines of \"grumble grumble introduce the idea of stable releases\") and I figured I'd pass it along.", "markup": "markdown", "html": "<p>It's that time of year again when Ben's math methods class is tasked with installing Dedalus...and it seems like they're having only slightly less trouble than we had a year ago.  A Mac seems to have successfully installed Dedalus with ease, whereas last year the students with Macs essentially gave up.  And now (see user group thread by Adam Schiff) Ubuntu seems to be the OS with weird problems.</p>\n<p>Would it be possible to prepare \"stable releases\" of Dedalus?  Basically rather than having anyone new to Dedalus install the cutting-edge newest pushes from the repository, it might be better to have installation options that look at older, more stable commits.</p>\n<p>The easiest way to implement this would probably be to add a line to the install script that points to the commit that it should be updated to (rather than tip).</p>\n<p>This isn't at all crucial, but someone mentioned it begrudgingly today (something along the lines of \"grumble grumble introduce the idea of stable releases\") and I figured I'd pass it along.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-10-28T02:58:59.625723+00:00", "milestone": null, "updated_on": "2018-10-30T21:24:11.738788+00:00", "type": "issue", "id": 34}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/35/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/35.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/35/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/35/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/35/move-main-branch-stack-to-mpi4py-200"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/35/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "Move main branch & stack to mpi4py >= 2.0.0", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I motion that it's time to move the stack (and dedalus mpi wrappers) to mpi4py >= 2.0.0.  We've held off on this because of an api change in mpi4py between versions 1.3.1 and 2.0.0.  \r\n\r\n@jsoishi has a nice patch for the change to the mpi variables, and mpi-sgi (NASA/Pleaides preferred compilers) require mpi4py >= 2.0.0.  I say let's incorporate Jeff's patch into the main branch, update the stack requirements, and move on.", "markup": "markdown", "html": "<p>I motion that it's time to move the stack (and dedalus mpi wrappers) to mpi4py &gt;= 2.0.0.  We've held off on this because of an api change in mpi4py between versions 1.3.1 and 2.0.0.  </p>\n<p>@jsoishi has a nice patch for the change to the mpi variables, and mpi-sgi (NASA/Pleaides preferred compilers) require mpi4py &gt;= 2.0.0.  I say let's incorporate Jeff's patch into the main branch, update the stack requirements, and move on.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2015-12-28T04:56:49.992780+00:00", "milestone": null, "updated_on": "2016-05-08T14:32:00.516738+00:00", "type": "issue", "id": 35}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/36/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/36.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/36/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/36/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/36/100-cpu-usage-when-dedalus-is-imported"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/36/vote"}}, "reporter": {"display_name": "Josh Burkart", "uuid": "{56fc9204-13a0-4da3-9382-3361a3478ddd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B56fc9204-13a0-4da3-9382-3361a3478ddd%7D"}, "html": {"href": "https://bitbucket.org/%7B56fc9204-13a0-4da3-9382-3361a3478ddd%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/804f5670e115a7c43d3218a75d005146d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJB-0.png"}}, "nickname": "joshburkart", "type": "user", "account_id": "5aa190a6662ca62622f242d7"}, "title": "100% CPU usage when dedalus is imported into an interactive shell", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Hi guys! Dedalus is a really great package; I've been playing around with it for some side projects.\r\n\r\nOne issue I've encountered is that if I load dedalus into an interactive shell (Python, IPython, or IPython notebook), even if I'm not doing anything with it I notice the associated python executable using 100% of one CPU. E.g.:\r\n```\r\n$ ipython\r\nIn [1]: import dedalus.public\r\n\r\n# In another terminal window...\r\n$ top\r\n...\r\n96028  python       99.6  00:22.26 4/1   0    27    59M    0B     0B     96027 96027 running\r\n...\r\n```\r\nI'm on Mac OSX El Capitan with Anaconda Python 3.5. Can anyone else reproduce this? Thanks!", "markup": "markdown", "html": "<p>Hi guys! Dedalus is a really great package; I've been playing around with it for some side projects.</p>\n<p>One issue I've encountered is that if I load dedalus into an interactive shell (Python, IPython, or IPython notebook), even if I'm not doing anything with it I notice the associated python executable using 100% of one CPU. E.g.:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">$</span> <span class=\"n\">ipython</span>\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]:</span> <span class=\"kn\">import</span> <span class=\"nn\">dedalus.public</span>\n\n<span class=\"c1\"># In another terminal window...</span>\n<span class=\"err\">$</span> <span class=\"n\">top</span>\n<span class=\"o\">...</span>\n<span class=\"mi\">96028</span>  <span class=\"n\">python</span>       <span class=\"mf\">99.6</span>  <span class=\"mo\">00</span><span class=\"p\">:</span><span class=\"mf\">22.26</span> <span class=\"mi\">4</span><span class=\"o\">/</span><span class=\"mi\">1</span>   <span class=\"mi\">0</span>    <span class=\"mi\">27</span>    <span class=\"mi\">59</span><span class=\"n\">M</span>    <span class=\"mi\">0</span><span class=\"n\">B</span>     <span class=\"mi\">0</span><span class=\"n\">B</span>     <span class=\"mi\">96027</span> <span class=\"mi\">96027</span> <span class=\"n\">running</span>\n<span class=\"o\">...</span>\n</pre></div>\n\n\n<p>I'm on Mac OSX El Capitan with Anaconda Python 3.5. Can anyone else reproduce this? Thanks!</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2016-02-08T05:54:47.210047+00:00", "milestone": null, "updated_on": "2016-04-27T03:33:32.433717+00:00", "type": "issue", "id": 36}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/37/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/37.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/37/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/37/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/37/no-documentation-on-running-tests-and"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/37/vote"}}, "reporter": {"display_name": "Ashwin Vishnu", "uuid": "{bd72905e-cf99-4847-84c2-998104370f6e}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbd72905e-cf99-4847-84c2-998104370f6e%7D"}, "html": {"href": "https://bitbucket.org/%7Bbd72905e-cf99-4847-84c2-998104370f6e%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:d336887d-ebe9-41c0-a42d-6d91c248ab13/9feed92a-6c0c-485e-83d5-2fd022bac3f8/128"}}, "nickname": "avmo", "type": "user", "account_id": "557058:d336887d-ebe9-41c0-a42d-6d91c248ab13"}, "title": "No documentation on running tests and manually importing tests fails", "component": null, "votes": 0, "watches": 1, "content": {"raw": "* I cannot find any mention of how to run tests:\r\n\r\nhttps://dedalus-project.readthedocs.io/en/latest/search.html?q=test&check_keywords=yes&area=default#\r\n\r\nI tried the most obvious ones: unittest, pytest, nose - none of them detected any tests.\r\n\r\n* Even if I wish to run it interactively do them in a console that doesn't work either\r\n\r\n```python\r\n\r\nIn [1]: from dedalus.tests.special_functions import airy\r\n---------------------------------------------------------------------------\r\nModuleNotFoundError                       Traceback (most recent call last)\r\n<ipython-input-1-89f2b31b55a4> in <module>()\r\n----> 1 from dedalus.tests.special_functions import airy\r\n\r\nModuleNotFoundError: No module named 'dedalus.tests'\r\n\r\nIn [3]: import dedalus\r\n\r\nIn [4]: dir(dedalus)\r\nOut[4]: \r\n['__builtins__',\r\n '__cached__',\r\n '__doc__',\r\n '__file__',\r\n '__loader__',\r\n '__name__',\r\n '__package__',\r\n '__path__',\r\n '__spec__']\r\n\r\nIn [5]: from dedalus.\r\n                      core                   libraries              dedalus.__hg_version__ \r\n                      dev                    public                                        \r\n                      extras                 tools                                         \r\n```", "markup": "markdown", "html": "<ul>\n<li>I cannot find any mention of how to run tests:</li>\n</ul>\n<p><a href=\"https://dedalus-project.readthedocs.io/en/latest/search.html?q=test&amp;check_keywords=yes&amp;area=default#\" rel=\"nofollow\" class=\"ap-connect-link\">https://dedalus-project.readthedocs.io/en/latest/search.html?q=test&amp;check_keywords=yes&amp;area=default#</a></p>\n<p>I tried the most obvious ones: unittest, pytest, nose - none of them detected any tests.</p>\n<ul>\n<li>Even if I wish to run it interactively do them in a console that doesn't work either</li>\n</ul>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]:</span> <span class=\"kn\">from</span> <span class=\"nn\">dedalus.tests.special_functions</span> <span class=\"kn\">import</span> <span class=\"n\">airy</span>\n<span class=\"o\">---------------------------------------------------------------------------</span>\n<span class=\"n\">ModuleNotFoundError</span>                       <span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">)</span>\n<span class=\"o\">&lt;</span><span class=\"n\">ipython</span><span class=\"o\">-</span><span class=\"nb\">input</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"o\">-</span><span class=\"mi\">89</span><span class=\"n\">f2b31b55a4</span><span class=\"o\">&gt;</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span><span class=\"p\">()</span>\n<span class=\"o\">----&gt;</span> <span class=\"mi\">1</span> <span class=\"kn\">from</span> <span class=\"nn\">dedalus.tests.special_functions</span> <span class=\"kn\">import</span> <span class=\"n\">airy</span>\n\n<span class=\"n\">ModuleNotFoundError</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">module</span> <span class=\"n\">named</span> <span class=\"s1\">&#39;dedalus.tests&#39;</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">]:</span> <span class=\"kn\">import</span> <span class=\"nn\">dedalus</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]:</span> <span class=\"nb\">dir</span><span class=\"p\">(</span><span class=\"n\">dedalus</span><span class=\"p\">)</span>\n<span class=\"n\">Out</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">]:</span> \n<span class=\"p\">[</span><span class=\"s1\">&#39;__builtins__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__cached__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__doc__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__file__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__loader__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__name__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__package__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__path__&#39;</span><span class=\"p\">,</span>\n <span class=\"s1\">&#39;__spec__&#39;</span><span class=\"p\">]</span>\n\n<span class=\"n\">In</span> <span class=\"p\">[</span><span class=\"mi\">5</span><span class=\"p\">]:</span> <span class=\"kn\">from</span> <span class=\"nn\">dedalus.</span>\n                      <span class=\"n\">core</span>                   <span class=\"n\">libraries</span>              <span class=\"n\">dedalus</span><span class=\"o\">.</span><span class=\"n\">__hg_version__</span> \n                      <span class=\"n\">dev</span>                    <span class=\"n\">public</span>                                        \n                      <span class=\"n\">extras</span>                 <span class=\"n\">tools</span>                                         \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-02-27T08:09:56.205454+00:00", "milestone": null, "updated_on": "2019-04-16T18:45:39.531017+00:00", "type": "issue", "id": 37}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/38/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/38.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/38/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/38/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/38/slow-simulation-ns2d-over-a-biperiodic"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/38/vote"}}, "reporter": {"display_name": "Pierre Augier", "uuid": "{eb327c54-cadd-4fce-9edd-f8fe047a9b93}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb327c54-cadd-4fce-9edd-f8fe047a9b93%7D"}, "html": {"href": "https://bitbucket.org/%7Beb327c54-cadd-4fce-9edd-f8fe047a9b93%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9b75dc331ab1b5d848887bdbec5ec539d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPA-2.png"}}, "nickname": "paugier", "type": "user", "account_id": "557058:6d18e2f1-34f0-4139-9028-bfdac251ab12"}, "title": "Slow simulation NS2D over a biperiodic space?", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Hi,\r\n\r\nI am Pierre Augier, one of the developer of fluidsim (https://bitbucket.org/fluiddyn/fluidsim). \r\n\r\nIn order to compare our performance with other pseudo-spectral CFD codes, we tried Dedalus.\r\n\r\nI suspect that we are not doing it the right way (see our script https://bitbucket.org/fluiddyn/fluidsim/src/master/bench/dedalus/ns2d_rot.py) because Dedalus is much (approximately 30 times on my computer) slower than the other codes.\r\n\r\nSince we are going to include these comparisons in an article, we would like to get the best of Dedalus. Is there something that I can do to get better performance with Dedalus for this very simple case (NS2D over a biperiodic space, 10 time steps)?\r\n\r\nI tried with `512**2` and `1024**2` and I got similar results.", "markup": "markdown", "html": "<p>Hi,</p>\n<p>I am Pierre Augier, one of the developer of fluidsim (<a href=\"https://bitbucket.org/fluiddyn/fluidsim\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/fluiddyn/fluidsim</a>). </p>\n<p>In order to compare our performance with other pseudo-spectral CFD codes, we tried Dedalus.</p>\n<p>I suspect that we are not doing it the right way (see our script <a href=\"https://bitbucket.org/fluiddyn/fluidsim/src/master/bench/dedalus/ns2d_rot.py\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/fluiddyn/fluidsim/src/master/bench/dedalus/ns2d_rot.py</a>) because Dedalus is much (approximately 30 times on my computer) slower than the other codes.</p>\n<p>Since we are going to include these comparisons in an article, we would like to get the best of Dedalus. Is there something that I can do to get better performance with Dedalus for this very simple case (NS2D over a biperiodic space, 10 time steps)?</p>\n<p>I tried with <code>512**2</code> and <code>1024**2</code> and I got similar results.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-05-02T13:05:56.574753+00:00", "milestone": null, "updated_on": "2018-10-30T20:00:27.398923+00:00", "type": "issue", "id": 38}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/39/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/39.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/39/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/39/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/39/dedalus-hangs-in-parallel-when-attempting"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/39/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Dedalus hangs in parallel when attempting a 3D interpolation using a Chebyshev basis", "component": null, "votes": 0, "watches": 1, "content": {"raw": "If one attempts to perform an interpolation to a single point in 3D *before* the transposes are created, Dedalus will hang if one of the bases is Chebyshev. \r\n\r\nA workaround is to force the transposes to be created before the interpolation, for example by doing \r\n\r\n```\r\ndata['c']\r\ndata['g']\r\n```\r\n\r\nThe attached script provides a minimal working example. It runs fine in serial, but hangs in parallel if the workaround remains commented out. \r\n\r\nOther notes: \r\n\r\n* the bug does not manifest if interpolation is done along only one dimension (even if it is the Chebyshev dimension)\r\n* This problem occurs in practice if one wishes to drop a \"probe\" in the flow to get a field at a given point and output it to a high time-cadence analysis task. The simulation will hang if the analysis task is triggered before the first timestep (as it is by default)", "markup": "markdown", "html": "<p>If one attempts to perform an interpolation to a single point in 3D <em>before</em> the transposes are created, Dedalus will hang if one of the bases is Chebyshev. </p>\n<p>A workaround is to force the transposes to be created before the interpolation, for example by doing </p>\n<div class=\"codehilite\"><pre><span></span>data[&#39;c&#39;]\ndata[&#39;g&#39;]\n</pre></div>\n\n\n<p>The attached script provides a minimal working example. It runs fine in serial, but hangs in parallel if the workaround remains commented out. </p>\n<p>Other notes: </p>\n<ul>\n<li>the bug does not manifest if interpolation is done along only one dimension (even if it is the Chebyshev dimension)</li>\n<li>This problem occurs in practice if one wishes to drop a \"probe\" in the flow to get a field at a given point and output it to a high time-cadence analysis task. The simulation will hang if the analysis task is triggered before the first timestep (as it is by default)</li>\n</ul>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-06-15T15:05:56.647815+00:00", "milestone": null, "updated_on": "2018-06-19T18:26:38.430951+00:00", "type": "issue", "id": 39}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/40/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/40.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/40/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/40/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/40/bz2-missing-from-dependencies-list-for"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/40/vote"}}, "reporter": {"display_name": "Stephen Biggs-Fox", "uuid": "{28e3bd0f-2847-457e-8ca8-307060dbbb41}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B28e3bd0f-2847-457e-8ca8-307060dbbb41%7D"}, "html": {"href": "https://bitbucket.org/%7B28e3bd0f-2847-457e-8ca8-307060dbbb41%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5d2d74f9-6fdc-467e-a3fe-0e6eb327ac21/1250f2d0-e80d-40ac-a244-836968b57b1c/128"}}, "nickname": "stephen-biggs-fox", "type": "user", "account_id": "557058:5d2d74f9-6fdc-467e-a3fe-0e6eb327ac21"}, "title": "bz2 missing from dependencies list for debian in install.sh", "component": null, "votes": 0, "watches": 1, "content": {"raw": "As the title suggests, bz2 is missing from the dependencies list for debian in the install.sh script. That is, it currently says the following  (line 358-381) but the items in bold are missing and need to be added. Without this, one cannot import matplotlib!\r\n\r\nLooks like you're on a Debian-compatible machine.\r\n\r\nYou need to have these packages installed:\r\n\r\n  * **libbz2-dev**\r\n\r\n  * libatlas-base-dev\r\n\r\n  * mercurial\r\n\r\n  * libatlas3-base\r\n\r\n  * libopenmpi-dev\r\n\r\n  * openmpi-bin\r\n\r\n  * libssl-dev\r\n\r\n  * build-essential\r\n\r\n  * libncurses5\r\n\r\n  * libncurses5-dev\r\n\r\n  * zip\r\n\r\n  * uuid-dev\r\n\r\n  * libfreetype6-dev\r\n\r\n  * tk-dev\r\n\r\n  * libhdf5-dev\r\n\r\n  * libsqlite3-dev\r\n\r\n  * gfortran\r\n\r\nYou can accomplish this by executing:\r\n\r\n$ sudo apt-get install **libbz2-dev** libatlas-base-dev libatlas3-base libopenmpi-dev openmpi-bin libssl-dev build-essential libncurses5 libncurses5-dev zip uuid-dev libfreetype6-dev tk-dev libhdf5-dev mercurial libsqlite3-dev gfortran", "markup": "markdown", "html": "<p>As the title suggests, bz2 is missing from the dependencies list for debian in the install.sh script. That is, it currently says the following  (line 358-381) but the items in bold are missing and need to be added. Without this, one cannot import matplotlib!</p>\n<p>Looks like you're on a Debian-compatible machine.</p>\n<p>You need to have these packages installed:</p>\n<ul>\n<li>\n<p><strong>libbz2-dev</strong></p>\n</li>\n<li>\n<p>libatlas-base-dev</p>\n</li>\n<li>\n<p>mercurial</p>\n</li>\n<li>\n<p>libatlas3-base</p>\n</li>\n<li>\n<p>libopenmpi-dev</p>\n</li>\n<li>\n<p>openmpi-bin</p>\n</li>\n<li>\n<p>libssl-dev</p>\n</li>\n<li>\n<p>build-essential</p>\n</li>\n<li>\n<p>libncurses5</p>\n</li>\n<li>\n<p>libncurses5-dev</p>\n</li>\n<li>\n<p>zip</p>\n</li>\n<li>\n<p>uuid-dev</p>\n</li>\n<li>\n<p>libfreetype6-dev</p>\n</li>\n<li>\n<p>tk-dev</p>\n</li>\n<li>\n<p>libhdf5-dev</p>\n</li>\n<li>\n<p>libsqlite3-dev</p>\n</li>\n<li>\n<p>gfortran</p>\n</li>\n</ul>\n<p>You can accomplish this by executing:</p>\n<p>$ sudo apt-get install <strong>libbz2-dev</strong> libatlas-base-dev libatlas3-base libopenmpi-dev openmpi-bin libssl-dev build-essential libncurses5 libncurses5-dev zip uuid-dev libfreetype6-dev tk-dev libhdf5-dev mercurial libsqlite3-dev gfortran</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-06-27T08:54:17.318204+00:00", "milestone": null, "updated_on": "2019-12-11T18:32:14.259611+00:00", "type": "issue", "id": 40}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/41/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/41.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/41/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/41/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/41/importing-dedalus-causes-lots-of-cpu-to-be"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/41/vote"}}, "reporter": {"display_name": "Stephen Biggs-Fox", "uuid": "{28e3bd0f-2847-457e-8ca8-307060dbbb41}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B28e3bd0f-2847-457e-8ca8-307060dbbb41%7D"}, "html": {"href": "https://bitbucket.org/%7B28e3bd0f-2847-457e-8ca8-307060dbbb41%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:5d2d74f9-6fdc-467e-a3fe-0e6eb327ac21/1250f2d0-e80d-40ac-a244-836968b57b1c/128"}}, "nickname": "stephen-biggs-fox", "type": "user", "account_id": "557058:5d2d74f9-6fdc-467e-a3fe-0e6eb327ac21"}, "title": "Importing dedalus causes lots of CPU to be used", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When I import dedalus (e.g. `import dedalus.public as de`) my CPU usage suddenly goes way up (>50%) and stays up. In contrast, importing other python modules, e.g. numpy, barely increases the CPU usage at all (~2%) and it quickly drops back to zero anyway. I have only tested this on my own laptop but this happens in the python terminal, ipython and jupyter notebooks, i.e. not a notebook / ipython compatibility issue. Currently trying to install elsewhere to see if the same issue occurs. This is major as it is preventing me from using dedalus safely (I can literally feel my laptop overheating and al I've done is import).", "markup": "markdown", "html": "<p>When I import dedalus (e.g. <code>import dedalus.public as de</code>) my CPU usage suddenly goes way up (&gt;50%) and stays up. In contrast, importing other python modules, e.g. numpy, barely increases the CPU usage at all (~2%) and it quickly drops back to zero anyway. I have only tested this on my own laptop but this happens in the python terminal, ipython and jupyter notebooks, i.e. not a notebook / ipython compatibility issue. Currently trying to install elsewhere to see if the same issue occurs. This is major as it is preventing me from using dedalus safely (I can literally feel my laptop overheating and al I've done is import).</p>", "type": "rendered"}, "assignee": null, "state": "closed", "version": null, "edited_on": null, "created_on": "2018-06-28T12:37:17.219730+00:00", "milestone": null, "updated_on": "2018-07-04T11:30:44.120859+00:00", "type": "issue", "id": 41}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/42/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/42.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/42/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/42/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/42/create-simpler-way-to-force-trigger-output"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/42/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Create simpler way to force/trigger output", "component": null, "votes": 0, "watches": 1, "content": {"raw": "It would be good to have a simpler way to force/trigger outputs to e.g. record the state and the end of a simulation.\r\n\r\nRef: https://groups.google.com/d/topic/dedalus-users/fUj_q91F9bo/discussion", "markup": "markdown", "html": "<p>It would be good to have a simpler way to force/trigger outputs to e.g. record the state and the end of a simulation.</p>\n<p>Ref: <a href=\"https://groups.google.com/d/topic/dedalus-users/fUj_q91F9bo/discussion\" rel=\"nofollow\" class=\"ap-connect-link\">https://groups.google.com/d/topic/dedalus-users/fUj_q91F9bo/discussion</a></p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-07-05T18:28:32.006977+00:00", "milestone": null, "updated_on": "2018-08-02T13:07:07.472004+00:00", "type": "issue", "id": 42}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/43/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/43.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/43/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/43/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/43/flowtoolscflcompute_dt-returning"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/43/vote"}}, "reporter": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "title": "flowtools.CFL.compute_dt() returning AttributeError when cadence=1", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Commit 543424f0c61d appears to break flowtools.CFL.compute_dt() when the CFL cadence=1.  To reproduce this, edit dedalus/examples/ivp/2d_rayleigh_benard.py and change cadence=1, then run the script.  \r\n\r\nDoing so will reproduce the following error:\r\n\r\n    Traceback (most recent call last):\r\n      File \"rayleigh_benard.py\", line 111, in <module>\r\n        dt = CFL.compute_dt()\r\n      File \"/home5/bpbrown/dedalus/src/dedalus/dedalus/extras/flow_tools.py\", line 203, in compute_dt\r\n        max_global_freq = self.reducer.global_max(local_freqs)\r\n      File \"/home5/bpbrown/dedalus/src/dedalus/dedalus/extras/flow_tools.py\", line 51, in global_max\r\n        if data.size:\r\n    AttributeError: 'int' object has no attribute 'size'\r\n\r\nThis error does not occur when CFL cadence>1.\r\n\r\n\r\nCommit 3c591a74b7d2 has the correct expected behaviour for CFL compute_dt().", "markup": "markdown", "html": "<p>Commit <a href=\"#!/dedalus-project/dedalus/commits/543424f0c61d\" rel=\"nofollow\" class=\"ap-connect-link\">543424f0c61d</a> appears to break flowtools.CFL.compute_dt() when the CFL cadence=1.  To reproduce this, edit dedalus/examples/ivp/2d_rayleigh_benard.py and change cadence=1, then run the script.  </p>\n<p>Doing so will reproduce the following error:</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;rayleigh_benard.py&quot;, line 111, in &lt;module&gt;\n    dt = CFL.compute_dt()\n  File &quot;/home5/bpbrown/dedalus/src/dedalus/dedalus/extras/flow_tools.py&quot;, line 203, in compute_dt\n    max_global_freq = self.reducer.global_max(local_freqs)\n  File &quot;/home5/bpbrown/dedalus/src/dedalus/dedalus/extras/flow_tools.py&quot;, line 51, in global_max\n    if data.size:\nAttributeError: &#39;int&#39; object has no attribute &#39;size&#39;\n</pre></div>\n\n\n<p>This error does not occur when CFL cadence&gt;1.</p>\n<p>Commit <a href=\"#!/dedalus-project/dedalus/commits/3c591a74b7d2\" rel=\"nofollow\" class=\"ap-connect-link\">3c591a74b7d2</a> has the correct expected behaviour for CFL compute_dt().</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-07-15T14:23:35.869519+00:00", "milestone": null, "updated_on": "2018-07-20T14:10:12.183971+00:00", "type": "issue", "id": 43}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/44/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/44.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/44/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/44/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/44/wrap-cython-profiling-directives-through"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/44/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Wrap cython profiling directives through setup.py", "component": null, "votes": 0, "watches": 1, "content": {"raw": "It should be possible to create a simple environment-variable-based switch to turn on and off the cython profiling directives at build-time:\r\n\r\nhttps://stackoverflow.com/questions/27384570/enable-cython-profiling-for-whole-program\r\n\r\nThis way we can have cython profiling off by default for performance yet it's easily enabled without editing the cython source.", "markup": "markdown", "html": "<p>It should be possible to create a simple environment-variable-based switch to turn on and off the cython profiling directives at build-time:</p>\n<p><a href=\"https://stackoverflow.com/questions/27384570/enable-cython-profiling-for-whole-program\" rel=\"nofollow\" class=\"ap-connect-link\">https://stackoverflow.com/questions/27384570/enable-cython-profiling-for-whole-program</a></p>\n<p>This way we can have cython profiling off by default for performance yet it's easily enabled without editing the cython source.</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-08-27T21:12:17.281394+00:00", "milestone": null, "updated_on": "2018-10-30T21:06:23.030818+00:00", "type": "issue", "id": 44}, {"priority": "minor", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/45/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/45.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/45/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/45/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/45/future-does-not-provide-abstract-meta_"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/45/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Future does not provide abstract meta_* methods", "component": null, "votes": 0, "watches": 2, "content": {"raw": "When constructing objects like operators that inherit from Future, one needs to specify all of the possible metadata types as classes. As of right now, there are no abstract methods for these. As a result, when one creates a new Operator that is also FutureField, if you do not know to add `meta_parity` (for example), you will get a very obscure error, because Dedalus will attempt to resolve `meta_parity` in `UnaryGridFunctions`. \r\n\r\nThis is very hard to track down, and would be greatly eased if `Future` provided abstract (but not implemented) methods for all possible metadata attributes on incoming fields. Then, at least one would know what to add.", "markup": "markdown", "html": "<p>When constructing objects like operators that inherit from Future, one needs to specify all of the possible metadata types as classes. As of right now, there are no abstract methods for these. As a result, when one creates a new Operator that is also FutureField, if you do not know to add <code>meta_parity</code> (for example), you will get a very obscure error, because Dedalus will attempt to resolve <code>meta_parity</code> in <code>UnaryGridFunctions</code>. </p>\n<p>This is very hard to track down, and would be greatly eased if <code>Future</code> provided abstract (but not implemented) methods for all possible metadata attributes on incoming fields. Then, at least one would know what to add.</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "new", "version": null, "edited_on": null, "created_on": "2018-08-31T15:33:56.555340+00:00", "milestone": null, "updated_on": "2018-08-31T21:46:07.724721+00:00", "type": "issue", "id": 45}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/46/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/46.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/46/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/46/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/46/properly-handle-singleton-dimensions"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/46/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Properly handle singleton dimensions", "component": null, "votes": 0, "watches": 1, "content": {"raw": "We should think about better handling of singleton dimensions, to e.g. allow NLBVPs on \"multidimensional\" domains where the Fourier directions are size=1 (constant).  This would make it easier to turn a 3D script into a 2D/1D script, and probably easier to combine problems by solving for a 1d background function and using it in a higher-dimensional simulation.", "markup": "markdown", "html": "<p>We should think about better handling of singleton dimensions, to e.g. allow NLBVPs on \"multidimensional\" domains where the Fourier directions are size=1 (constant).  This would make it easier to turn a 3D script into a 2D/1D script, and probably easier to combine problems by solving for a 1d background function and using it in a higher-dimensional simulation.</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "new", "version": null, "edited_on": null, "created_on": "2018-12-11T15:53:39.755796+00:00", "milestone": null, "updated_on": "2018-12-11T15:53:39.755796+00:00", "type": "issue", "id": 46}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/47/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/47.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/47/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/47/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/47/replace-use-of-absolute-with-resolve-in"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/47/vote"}}, "reporter": {"display_name": "Jacob Wenegrat", "uuid": "{8f6f5c41-b46a-4a93-abd6-fefac1906b33}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8f6f5c41-b46a-4a93-abd6-fefac1906b33%7D"}, "html": {"href": "https://bitbucket.org/%7B8f6f5c41-b46a-4a93-abd6-fefac1906b33%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9e9af7669a822614a39433db4d409b22d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJW-2.png"}}, "nickname": "wenegrat", "type": "user", "account_id": "5c66f613f3071d5706239d17"}, "title": "Replace use of absolute() with resolve() in FileHandler", "component": null, "votes": 0, "watches": 1, "content": {"raw": "On line 329 of evaluator.py the supplied base_path is converted to an absolute path using:\r\n base_path = pathlib.Path(base_path).absolute()\r\n\r\nNote however that absolute() may not be very well tested: https://bugs.python.org/issue29688, and regardless does not do as complete a normalization as might be required: https://github.com/python/cpython/blob/355f16fd4beb36d6a18f7d0982581c93de015c17/Lib/pathlib.py#L1118\r\n\r\nInstead a better option is pathlib.Path.resolve() \r\nhttps://github.com/python/cpython/blob/355f16fd4beb36d6a18f7d0982581c93de015c17/Lib/pathlib.py#L1136\r\n\r\nThis change is motivated by problems I have had running across multiple cores on beegfs filesystems (as documented here: https://groups.google.com/forum/#!topic/dedalus-users/Bj4Ax7bFUcI). Switching absolute() to resolve() on line 329 of evaluator.py appears to have fixed these filesystem errors for me.\r\n\r\nJacob", "markup": "markdown", "html": "<p>On line 329 of evaluator.py the supplied base_path is converted to an absolute path using:\n base_path = pathlib.Path(base_path).absolute()</p>\n<p>Note however that absolute() may not be very well tested: <a href=\"https://bugs.python.org/issue29688\" rel=\"nofollow\" class=\"ap-connect-link\">https://bugs.python.org/issue29688</a>, and regardless does not do as complete a normalization as might be required: <a href=\"https://github.com/python/cpython/blob/355f16fd4beb36d6a18f7d0982581c93de015c17/Lib/pathlib.py#L1118\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/python/cpython/blob/355f16fd4beb36d6a18f7d0982581c93de015c17/Lib/pathlib.py#L1118</a></p>\n<p>Instead a better option is pathlib.Path.resolve() \n<a href=\"https://github.com/python/cpython/blob/355f16fd4beb36d6a18f7d0982581c93de015c17/Lib/pathlib.py#L1136\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/python/cpython/blob/355f16fd4beb36d6a18f7d0982581c93de015c17/Lib/pathlib.py#L1136</a></p>\n<p>This change is motivated by problems I have had running across multiple cores on beegfs filesystems (as documented here: <a href=\"https://groups.google.com/forum/#!topic/dedalus-users/Bj4Ax7bFUcI\" rel=\"nofollow\" class=\"ap-connect-link\">https://groups.google.com/forum/#!topic/dedalus-users/Bj4Ax7bFUcI</a>). Switching absolute() to resolve() on line 329 of evaluator.py appears to have fixed these filesystem errors for me.</p>\n<p>Jacob</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-02-15T17:42:53.831670+00:00", "milestone": null, "updated_on": "2019-02-18T20:35:37.651063+00:00", "type": "issue", "id": 47}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/48/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/48.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/48/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/48/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/48/error-on-outputting-substitutions-twice"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/48/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Error on outputting substitutions twice", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Looks like an issue related to handlers not making copies of substitution expressions, which prevents them from being output in multiple layouts simultaneously.\r\n\r\nRef: https://groups.google.com/d/topic/dedalus-users/c6dyBmU0hro/discussion", "markup": "markdown", "html": "<p>Looks like an issue related to handlers not making copies of substitution expressions, which prevents them from being output in multiple layouts simultaneously.</p>\n<p>Ref: <a href=\"https://groups.google.com/d/topic/dedalus-users/c6dyBmU0hro/discussion\" rel=\"nofollow\" class=\"ap-connect-link\">https://groups.google.com/d/topic/dedalus-users/c6dyBmU0hro/discussion</a></p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-03-21T14:29:48.230195+00:00", "milestone": null, "updated_on": "2019-04-16T18:47:01.231119+00:00", "type": "issue", "id": 48}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/49/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/49.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/49/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/49/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/49/preallocate-output-option-messed-up-nccs"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/49/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Preallocate output option messed up NCCs?", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When running the Lane-Emden example NLBVP with the config option PREALLOCATE_OUTPUTS turned on, the solver converges algebraically rather than geometrically, probably indicating that something is going awry with recomputing the LHS NCCs.", "markup": "markdown", "html": "<p>When running the Lane-Emden example NLBVP with the config option PREALLOCATE_OUTPUTS turned on, the solver converges algebraically rather than geometrically, probably indicating that something is going awry with recomputing the LHS NCCs.</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-04-23T17:23:37.292994+00:00", "milestone": null, "updated_on": "2019-04-23T17:23:37.292994+00:00", "type": "issue", "id": 49}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/50/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/50.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/50/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/50/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/50/add-diffusivity-timescale-to-cfl"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/50/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Add diffusivity timescale to CFL", "component": null, "votes": 0, "watches": 1, "content": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-04-25T20:23:34.851808+00:00", "milestone": null, "updated_on": "2019-12-11T22:54:41.824863+00:00", "type": "issue", "id": 50}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/51/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/51.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/51/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/51/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/51/add-example-of-spectral-filter"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/51/vote"}}, "reporter": {"display_name": "Daniel Lecoanet", "uuid": "{0ff8d177-8703-4f25-93d4-68857e948a31}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D"}, "html": {"href": "https://bitbucket.org/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/829d5ddfabf278a6c21111d4de2fe031d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDL-3.png"}}, "nickname": "lecoanet", "type": "user", "account_id": "557058:ba5c14ee-54e1-4d72-aa9e-1e2a4c5ab718"}, "title": "Add example of spectral filter", "component": null, "votes": 0, "watches": 2, "content": {"raw": "People would be interested in using this...", "markup": "markdown", "html": "<p>People would be interested in using this...</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-04-25T20:24:13.883382+00:00", "milestone": null, "updated_on": "2020-03-19T18:50:18.448825+00:00", "type": "issue", "id": 51}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/52/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/52.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/52/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/52/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/52/add-parallel-tests"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/52/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Add parallel tests", "component": null, "votes": 0, "watches": 1, "content": {"raw": "* Makes tests parallel safe and add parallel tests.\r\n* Add tests with output", "markup": "markdown", "html": "<ul>\n<li>Makes tests parallel safe and add parallel tests.</li>\n<li>Add tests with output</li>\n</ul>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-04-25T21:41:03.363698+00:00", "milestone": null, "updated_on": "2020-03-19T18:55:54.972286+00:00", "type": "issue", "id": 52}, {"priority": "trivial", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/53/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/53.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/53/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/53/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/53/add-getitem-to-operators"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/53/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Add getitem to operators", "component": null, "votes": 0, "watches": 1, "content": {"raw": "This will allow one to perform an operation and then choose 'c' for coefficient space to allow for proper dealiasing without having to perform `.set_scales` on resultant field.\r\n\r\n```\r\n f['c'] = (g*h)['c'] \r\n```", "markup": "markdown", "html": "<p>This will allow one to perform an operation and then choose 'c' for coefficient space to allow for proper dealiasing without having to perform <code>.set_scales</code> on resultant field.</p>\n<div class=\"codehilite\"><pre><span></span> f[&#39;c&#39;] = (g*h)[&#39;c&#39;] \n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-04-27T01:01:49.064162+00:00", "milestone": null, "updated_on": "2019-05-28T02:54:24.416918+00:00", "type": "issue", "id": 53}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/54/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/54.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/54/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/54/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/54/solvercontinue"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/54/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "solver.continue", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Maybe good to rename solver.ok to solver.continue.", "markup": "markdown", "html": "<p>Maybe good to rename solver.ok to solver.continue.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-04-28T16:53:47.363312+00:00", "milestone": null, "updated_on": "2019-05-31T18:59:34.746812+00:00", "type": "issue", "id": 54}, {"priority": "trivial", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/55/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/55.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/55/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/55/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/55/simple-method-to-write-last-checkpoint"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/55/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Simple method to write last checkpoint", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Currently there is no convenience method to easily save the state at the end of a run. The simplest way I know to do this is \r\n\r\n\u200c\r\n\r\n```\r\n# write last checkpoint\r\nend_world_time = solver.get_world_time()\r\nend_wall_time = end_world_time - solver.start_time\r\nsolver.evaluator.evaluate_handlers([snap,], timestep = dt, sim_time = solver.sim_time, world_time=end_world_time, wall_time=end_wall_time, iteration=solver.iteration)\r\n```\r\n\r\nGiven that the final output is important for a number of our users \\(those using Dedalus inside of other codes, like continuation methods\\), this should be easier to do.", "markup": "markdown", "html": "<p>Currently there is no convenience method to easily save the state at the end of a run. The simplest way I know to do this is </p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span># write last checkpoint\nend_world_time = solver.get_world_time()\nend_wall_time = end_world_time - solver.start_time\nsolver.evaluator.evaluate_handlers([snap,], timestep = dt, sim_time = solver.sim_time, world_time=end_world_time, wall_time=end_wall_time, iteration=solver.iteration)\n</pre></div>\n\n\n<p>Given that the final output is important for a number of our users (those using Dedalus inside of other codes, like continuation methods), this should be easier to do.</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-05-02T15:43:03.983892+00:00", "milestone": null, "updated_on": "2019-05-02T16:14:17.543957+00:00", "type": "issue", "id": 55}, {"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/56/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/56.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/56/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/56/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/56/add-xarray-field-conversion-output-handler"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/56/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Add xarray field conversion / output handler", "component": null, "votes": 0, "watches": 3, "content": {"raw": "We should consider simple xarray conversion operators for fields, as well as xarray handlers that produce xarray objects and/or write to disk using xarray.", "markup": "markdown", "html": "<p>We should consider simple xarray conversion operators for fields, as well as xarray handlers that produce xarray objects and/or write to disk using xarray.</p>", "type": "rendered"}, "assignee": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-05-02T19:42:16.695207+00:00", "milestone": null, "updated_on": "2019-05-02T19:42:16.695207+00:00", "type": "issue", "id": 56}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/57/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/57.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/57/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/57/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/57/add-a-method-to-get-all-element-grids-at"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/57/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Add a method to get all element grids at once", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Currently, a domain has \r\n\r\n```python\r\ndomain.grid(axis)\r\n```\r\n\r\nto get the grid in one dimension specified by `axis` and\r\n\r\n```python\r\ndomain.grids()\r\n```\r\n\r\nto get all N grids.\r\n\r\nHowever, for the `elements` which give the mode numbers, there is only \r\n\r\n \r\n\r\n```python\r\ndomain.elements(axis)\r\n```\r\n\r\nwhich takes `axis` and returns one dimension\u2019s mode numbers. **We should add a convenience method that gives the mode numbers in all dimensions.**", "markup": "markdown", "html": "<p>Currently, a domain has </p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">domain</span><span class=\"o\">.</span><span class=\"n\">grid</span><span class=\"p\">(</span><span class=\"n\">axis</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>to get the grid in one dimension specified by <code>axis</code> and</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">domain</span><span class=\"o\">.</span><span class=\"n\">grids</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p>to get all N grids.</p>\n<p>However, for the <code>elements</code> which give the mode numbers, there is only </p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">domain</span><span class=\"o\">.</span><span class=\"n\">elements</span><span class=\"p\">(</span><span class=\"n\">axis</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>which takes <code>axis</code> and returns one dimension\u2019s mode numbers. <strong>We should add a convenience method that gives the mode numbers in all dimensions.</strong></p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-06-03T15:43:29.840819+00:00", "milestone": null, "updated_on": "2020-03-19T18:49:49.751278+00:00", "type": "issue", "id": 57}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/58/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/58.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/58/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/58/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/58/document-hdf5-file-format"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/58/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Document HDF5 file format", "component": null, "votes": 1, "watches": 2, "content": {"raw": "The HDF5 file format used by Dedalus is feature-rich, but not well documented. In order to facilitate better use, particularly by newcomers to the community, we should document the output file and its use in provided analysis facilities \\(e.g. `plot_bot` and friends\\).", "markup": "markdown", "html": "<p>The HDF5 file format used by Dedalus is feature-rich, but not well documented. In order to facilitate better use, particularly by newcomers to the community, we should document the output file and its use in provided analysis facilities (e.g. <code>plot_bot</code> and friends).</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-06-03T18:03:28.870033+00:00", "milestone": null, "updated_on": "2019-06-03T18:03:28.870033+00:00", "type": "issue", "id": 58}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/59/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/59.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/59/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/59/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/59/ivps-fail-when-output-tasks-include"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/59/vote"}}, "reporter": {"display_name": "Evan Anders", "uuid": "{ce45a673-fcc9-48fc-a547-f4ee9f3a8020}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bce45a673-fcc9-48fc-a547-f4ee9f3a8020%7D"}, "html": {"href": "https://bitbucket.org/%7Bce45a673-fcc9-48fc-a547-f4ee9f3a8020%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:320d4568-38ec-40ab-9264-ac9b3760572a/7e7ec364-57a7-4b6a-809c-b17a66066163/128"}}, "nickname": "evanhanders", "type": "user", "account_id": "557058:320d4568-38ec-40ab-9264-ac9b3760572a"}, "title": "IVPs fail when output tasks include redundant substitutions", "component": null, "votes": 0, "watches": 2, "content": {"raw": "When defining substitutions that have the square of a field quantity, as in,\r\n\r\n```\r\nproblem.substitutions['square_sub'] = '(w)**2'\r\n```\r\n\r\nIf you try to output that substitution\u2019s data in BOTH coefficient and grid space,\r\n\r\n```\r\nslices = solver.evaluator.add_file_handler('slices', sim_dt=0.25, max_writes=50)\r\ncoeffs = solver.evaluator.add_file_handler('coeffs', sim_dt=0.25, max_writes=50)\r\nslices.add_task('square_sub')\r\ncoeffs.add_task('square_sub', layout='c')\r\n```\r\n\r\nThe run fails with a \u201cValueError: gdata does not match scaled grid\\_size\u201d before any timesteps can occur. I\u2019ve attached a minorly modified rayleigh\\_benard.py file from the dedalus examples \\(my changes are lines 48 and 98-102 of the attached file\\)  that reproduces this error, and an text file containing the simulation output and full traceback.\r\n\r\nA similar bug has appeared on numerous devices within our research group, so this doesn\u2019t seem to be isolated to my computer.", "markup": "markdown", "html": "<p>When defining substitutions that have the square of a field quantity, as in,</p>\n<div class=\"codehilite\"><pre><span></span>problem.substitutions[&#39;square_sub&#39;] = &#39;(w)**2&#39;\n</pre></div>\n\n\n<p>If you try to output that substitution\u2019s data in BOTH coefficient and grid space,</p>\n<div class=\"codehilite\"><pre><span></span>slices = solver.evaluator.add_file_handler(&#39;slices&#39;, sim_dt=0.25, max_writes=50)\ncoeffs = solver.evaluator.add_file_handler(&#39;coeffs&#39;, sim_dt=0.25, max_writes=50)\nslices.add_task(&#39;square_sub&#39;)\ncoeffs.add_task(&#39;square_sub&#39;, layout=&#39;c&#39;)\n</pre></div>\n\n\n<p>The run fails with a \u201cValueError: gdata does not match scaled grid_size\u201d before any timesteps can occur. I\u2019ve attached a minorly modified rayleigh_benard.py file from the dedalus examples (my changes are lines 48 and 98-102 of the attached file)  that reproduces this error, and an text file containing the simulation output and full traceback.</p>\n<p>A similar bug has appeared on numerous devices within our research group, so this doesn\u2019t seem to be isolated to my computer.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-06-07T00:02:44.046134+00:00", "milestone": null, "updated_on": "2019-06-12T17:31:11.513954+00:00", "type": "issue", "id": 59}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/60/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/60.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/60/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/60/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/60/dedalus-fails-to-import-due-to-missing"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/60/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Dedalus fails to import due to missing matrix solver options", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Because the `sparse.py` functions \\(used in EVPs\\) were not updated with the rest of the matrix solvers, the lack of the matrix solver options in \\`dedalus.cfg\\` causes Dedalus to fail to import.", "markup": "markdown", "html": "<p>Because the <code>sparse.py</code> functions (used in EVPs) were not updated with the rest of the matrix solvers, the lack of the matrix solver options in `dedalus.cfg` causes Dedalus to fail to import.</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-06-07T15:12:39.845034+00:00", "milestone": null, "updated_on": "2019-06-07T15:54:30.573018+00:00", "type": "issue", "id": 60}, {"priority": "critical", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/61/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/61.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/61/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/61/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/61/eigenvalue-problems-extremely-slow-using"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/61/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "Eigenvalue problems extremely slow using default conda install", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The default conda installation method leads to extremely slow Eigenvalue problems. On the Bates College Leavitt cluster, a comparison between an older, install-script installation leads to the following:\r\n\r\n## 1D Rayleigh-Benard Eigenvalue example\r\n\r\n* conda install: 32 sec\r\n* install script: 3.2 sec\r\n\r\nInterestingly, the IVPs are not nearly as affected. \r\n\r\n## 3D Rayleigh-Benard Initial Value example\r\n\r\n* conda install: 949 sec\r\n* install script: 879 sec\r\n\r\nI have tried even more difficult eigenvalue problems, and the problem becomes even worse as the startup costs get pushed down. \r\n\r\nI used cProfile to note that the biggest difference, accounting for nearly all of the eigenvalue differential is `arpack.py` from the scipy sparse linear algebra package.\r\n\r\nBy using `objdump -x \"_arpack.cpython-37m-x86_64-linux-gnu.so\" | grep NEEDED` on the two versions of `_arpack.cpython-37m-x86_64-linux-gnu.so`, it appears as though the difference is that conda uses openblas, while my install script installation used atlas. While this has a minor difference \\(~10% or so\\) for IVPs, for eigenvalue problems, it appears to be devastating  \\(10-16x in my tests!\\).", "markup": "markdown", "html": "<p>The default conda installation method leads to extremely slow Eigenvalue problems. On the Bates College Leavitt cluster, a comparison between an older, install-script installation leads to the following:</p>\n<h2 id=\"markdown-header-1d-rayleigh-benard-eigenvalue-example\">1D Rayleigh-Benard Eigenvalue example</h2>\n<ul>\n<li>conda install: 32 sec</li>\n<li>install script: 3.2 sec</li>\n</ul>\n<p>Interestingly, the IVPs are not nearly as affected. </p>\n<h2 id=\"markdown-header-3d-rayleigh-benard-initial-value-example\">3D Rayleigh-Benard Initial Value example</h2>\n<ul>\n<li>conda install: 949 sec</li>\n<li>install script: 879 sec</li>\n</ul>\n<p>I have tried even more difficult eigenvalue problems, and the problem becomes even worse as the startup costs get pushed down. </p>\n<p>I used cProfile to note that the biggest difference, accounting for nearly all of the eigenvalue differential is <code>arpack.py</code> from the scipy sparse linear algebra package.</p>\n<p>By using <code>objdump -x \"_arpack.cpython-37m-x86_64-linux-gnu.so\" | grep NEEDED</code> on the two versions of <code>_arpack.cpython-37m-x86_64-linux-gnu.so</code>, it appears as though the difference is that conda uses openblas, while my install script installation used atlas. While this has a minor difference (~10% or so) for IVPs, for eigenvalue problems, it appears to be devastating  (10-16x in my tests!).</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-06-07T18:08:17.327681+00:00", "milestone": null, "updated_on": "2019-07-11T20:47:47.137810+00:00", "type": "issue", "id": 61}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/62/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/62.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/62/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/62/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/62/installing-pyqt5"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/62/vote"}}, "reporter": null, "title": "Installing PyQt5", "component": null, "votes": 0, "watches": null, "content": {"raw": "I may have stumbled upon a minor bug, though I'm still not sure.\r\n\r\nI just did a fresh install of dedalus on my mac using the conda method, and when I tried to run something, the PyQt5 module was missing. The full error message was:\r\n\r\n\r\n```\r\n#!bash\r\n\r\n    Traceback (most recent call last):\r\n      File \"NGsimple.py\", line 43, in <module>\r\n        from dedalus.extras.plot_tools import plot_bot_2d\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/dedalus/extras/plot_tools.py\", line 5, in <module>\r\n        import matplotlib.pyplot as plt\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/pyplot.py\", line 2349, in <module>\r\n        switch_backend(rcParams[\"backend\"])\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/pyplot.py\", line 215, in switch_backend\r\n        backend_mod = importlib.import_module(backend_name)\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n        return _bootstrap._gcd_import(name[level:], package, level)\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/backend_qt5agg.py\", line 11, in <module>\r\n        from .backend_qt5 import (\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/backend_qt5.py\", line 15, in <module>\r\n        import matplotlib.backends.qt_editor.figureoptions as figureoptions\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/qt_editor/figureoptions.py\", line 13, in <module>\r\n        from matplotlib.backends.qt_compat import QtGui\r\n      File \"/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/qt_compat.py\", line 158, in <module>\r\n        raise ImportError(\"Failed to import any qt binding\")\r\n    ImportError: Failed to import any qt binding\r\n```\r\n\r\n\r\nGoogle it and you will find all over that PyQt5 needs to be installed. This solved it for me:\r\n\r\npip install PyQt5\r\n\r\nwhich you may want to add to the install_conda.sh.\r\n\r\nBefore that, if I opened an ipython shell in the dedalus environment and tried `import PyQt5`, there was no error message. Confused me for a bit but the solution above did the trick anyway.", "markup": "markdown", "html": "<p>I may have stumbled upon a minor bug, though I'm still not sure.</p>\n<p>I just did a fresh install of dedalus on my mac using the conda method, and when I tried to run something, the PyQt5 module was missing. The full error message was:</p>\n<div class=\"codehilite language-bash\"><pre><span></span>    Traceback <span class=\"o\">(</span>most recent call last<span class=\"o\">)</span>:\n      File <span class=\"s2\">&quot;NGsimple.py&quot;</span>, line <span class=\"m\">43</span>, in &lt;module&gt;\n        from dedalus.extras.plot_tools import plot_bot_2d\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/dedalus/extras/plot_tools.py&quot;</span>, line <span class=\"m\">5</span>, in &lt;module&gt;\n        import matplotlib.pyplot as plt\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/pyplot.py&quot;</span>, line <span class=\"m\">2349</span>, in &lt;module&gt;\n        switch_backend<span class=\"o\">(</span>rcParams<span class=\"o\">[</span><span class=\"s2\">&quot;backend&quot;</span><span class=\"o\">])</span>\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/pyplot.py&quot;</span>, line <span class=\"m\">215</span>, in switch_backend\n        <span class=\"nv\">backend_mod</span> <span class=\"o\">=</span> importlib.import_module<span class=\"o\">(</span>backend_name<span class=\"o\">)</span>\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/importlib/__init__.py&quot;</span>, line <span class=\"m\">127</span>, in import_module\n        <span class=\"k\">return</span> _bootstrap._gcd_import<span class=\"o\">(</span>name<span class=\"o\">[</span>level:<span class=\"o\">]</span>, package, level<span class=\"o\">)</span>\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/backend_qt5agg.py&quot;</span>, line <span class=\"m\">11</span>, in &lt;module&gt;\n        from .backend_qt5 import <span class=\"o\">(</span>\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/backend_qt5.py&quot;</span>, line <span class=\"m\">15</span>, in &lt;module&gt;\n        import matplotlib.backends.qt_editor.figureoptions as figureoptions\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/qt_editor/figureoptions.py&quot;</span>, line <span class=\"m\">13</span>, in &lt;module&gt;\n        from matplotlib.backends.qt_compat import QtGui\n      File <span class=\"s2\">&quot;/Users/NicoG/anaconda/envs/dedalus/lib/python3.7/site-packages/matplotlib/backends/qt_compat.py&quot;</span>, line <span class=\"m\">158</span>, in &lt;module&gt;\n        raise ImportError<span class=\"o\">(</span><span class=\"s2\">&quot;Failed to import any qt binding&quot;</span><span class=\"o\">)</span>\n    ImportError: Failed to import any qt binding\n</pre></div>\n\n\n<p>Google it and you will find all over that PyQt5 needs to be installed. This solved it for me:</p>\n<p>pip install PyQt5</p>\n<p>which you may want to add to the install_conda.sh.</p>\n<p>Before that, if I opened an ipython shell in the dedalus environment and tried <code>import PyQt5</code>, there was no error message. Confused me for a bit but the solution above did the trick anyway.</p>", "type": "rendered"}, "assignee": null, "state": "wontfix", "version": null, "edited_on": null, "created_on": "2019-06-11T22:24:17.727363+00:00", "milestone": null, "updated_on": "2020-03-19T18:52:25.859987+00:00", "type": "issue", "id": 62}, {"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/63/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/63.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/63/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/63/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/63/total_write_num"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/63/vote"}}, "reporter": {"display_name": "Yi-Min Huang", "uuid": "{bb100cb8-861a-4988-80a5-f4deff291db5}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbb100cb8-861a-4988-80a5-f4deff291db5%7D"}, "html": {"href": "https://bitbucket.org/%7Bbb100cb8-861a-4988-80a5-f4deff291db5%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9142047fb63e266a6cb1c2ea042f72e2d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsYH-1.png"}}, "nickname": "Yi-Min Huang", "type": "user", "account_id": "5d0c0f83fb58430bcaeb4bc2"}, "title": "total_write_num", "component": null, "votes": 0, "watches": 1, "content": {"raw": "In evaluator.py, lines 368 and 392, should they be\r\n\r\n`total_write_num = 0`\r\n\r\nand \r\n\r\n`total_write_num = last_write_num ` \r\n\r\n??\r\n\r\nCurrently, the write\\_number starts in 2 in HDF5 output file, and when mode='append' is used,  the write\\_number skips 1 after restart.", "markup": "markdown", "html": "<p>In evaluator.py, lines 368 and 392, should they be</p>\n<p><code>total_write_num = 0</code></p>\n<p>and </p>\n<p><code>total_write_num = last_write_num</code> </p>\n<p>??</p>\n<p>Currently, the write_number starts in 2 in HDF5 output file, and when mode='append' is used,  the write_number skips 1 after restart.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-06-20T23:06:20.664537+00:00", "milestone": null, "updated_on": "2019-07-11T18:48:56.310733+00:00", "type": "issue", "id": 63}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/64/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/64.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/64/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/64/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/64/nccs-cause-strange-mpi-crashes-after"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/64/vote"}}, "reporter": {"display_name": "Evan Anders", "uuid": "{ce45a673-fcc9-48fc-a547-f4ee9f3a8020}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bce45a673-fcc9-48fc-a547-f4ee9f3a8020%7D"}, "html": {"href": "https://bitbucket.org/%7Bce45a673-fcc9-48fc-a547-f4ee9f3a8020%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:320d4568-38ec-40ab-9264-ac9b3760572a/7e7ec364-57a7-4b6a-809c-b17a66066163/128"}}, "nickname": "evanhanders", "type": "user", "account_id": "557058:320d4568-38ec-40ab-9264-ac9b3760572a"}, "title": "NCCs cause strange MPI crashes after commit 4232435 in 3D domains with distributed processor meshes", "component": null, "votes": 0, "watches": 1, "content": {"raw": "After [this commit](#!/dedalus-project/dedalus/commits/4232435181b5989df78ff6d6ce07e6cc4093cf54), my 3D equation sets with significant NCCs are failing when setting up file handlers when I parallelize over two directions. The failures usually show up in a few sorts of barfy Tracebacks or as seg faults a bit further down in my script. Here\u2019s one such traceback.\r\n\r\n> Traceback \\(most recent call last\\):  \r\n> File \"rayleigh\\_benard.py\", line 113, in <module>  \r\n> snap = solver.evaluator.add\\_file\\_handler\\('snapshots', sim\\_dt=0.2, max\\_writes=10\\)  \r\n> File \"/home/evan/research/dedalus/src/dedalus/dedalus/core/evaluator.py\", line 69, in add\\_file\\_handler  \r\n> FH = FileHandler\\(filename, self.domain, self.vars, \\*\\*kw\\)  \r\n> File \"/home/evan/research/dedalus/src/dedalus/dedalus/core/evaluator.py\", line 397, in **init**  \r\n> self.set\\_num = comm.bcast\\(set\\_num, root=0\\)  \r\n> File \"mpi4py/MPI/Comm.pyx\", line 1257, in mpi4py.MPI.Comm.bcast  \r\n> File \"mpi4py/MPI/msgpickle.pxi\", line 631, in mpi4py.MPI.PyMPI\\_bcast  \r\n> File \"mpi4py/MPI/msgpickle.pxi\", line 632, in mpi4py.MPI.PyMPI\\_bcast  \r\n> mpi4py.MPI.Exception: MPI\\_ERR\\_TRUNCATE: message truncated\r\n\r\nWhat seems to be happening is that the bcast calls on lines 397-398 of core/evaluator.py aren\u2019t working properly, and when I have a processor mesh of shape \\[N, M\\], I get this error on N processors. Usually the last processor in the first direction \\(e.g., on 64 cores, with mesh \\[4, 16\\], this error happens on process 15, 31, 46, 63\\).\r\n\r\nI\u2019m not sure what\u2019s causing this on the dedalus side, but I think it has something to do with the update to the NCC multiplication routine in commit 4232435. Sometimes, the specific MPI traceback that I get is also apparently a known bug in mpi4py \\([see here](https://bitbucket.org/mpi4py/mpi4py/issues/17/negative-size-passed-to)\\), and can supposedly be fixed by changing from lowercase bcast to uppercase Bcast. Looks like an integer overflow during the pickling routine in bcast.\r\n\r\nThis error DOES NOT happen in 2D with equation sets with similar NCCs, nor does it happen when I don\u2019t specify a mesh. I\u2019m attaching two scripts of moderately modified versions of the 3D rayleigh benard example which reproduce the bug for me.  I\u2019ve added a NCC scaling to most of the equations \\(see lines 50-52, 67-70\\). I\u2019ve also switched from SinCos bases to Fourier, which I use in my personal problems. Otherwise, the files should be identical to the original example. Running mesh\\_rayleigh\\_benard.py on 4 processes breaks for me, but running noMesh\\_rayleigh\\_benard.py does not.\r\n\r\nThis bug basically makes it so that all of our fully compressible equation implementations break in well-parallelized, 3D problems on the tip version of dedalus.", "markup": "markdown", "html": "<p>After <a data-is-external-link=\"true\" href=\"#!/dedalus-project/dedalus/commits/4232435181b5989df78ff6d6ce07e6cc4093cf54\" rel=\"nofollow\">this commit</a>, my 3D equation sets with significant NCCs are failing when setting up file handlers when I parallelize over two directions. The failures usually show up in a few sorts of barfy Tracebacks or as seg faults a bit further down in my script. Here\u2019s one such traceback.</p>\n<blockquote>\n<p>Traceback (most recent call last):<br />\nFile \"rayleigh_benard.py\", line 113, in &lt;module&gt;<br />\nsnap = solver.evaluator.add_file_handler('snapshots', sim_dt=0.2, max_writes=10)<br />\nFile \"/home/evan/research/dedalus/src/dedalus/dedalus/core/evaluator.py\", line 69, in add_file_handler<br />\nFH = FileHandler(filename, self.domain, self.vars, **kw)<br />\nFile \"/home/evan/research/dedalus/src/dedalus/dedalus/core/evaluator.py\", line 397, in <strong>init</strong><br />\nself.set_num = comm.bcast(set_num, root=0)<br />\nFile \"mpi4py/MPI/Comm.pyx\", line 1257, in mpi4py.MPI.Comm.bcast<br />\nFile \"mpi4py/MPI/msgpickle.pxi\", line 631, in mpi4py.MPI.PyMPI_bcast<br />\nFile \"mpi4py/MPI/msgpickle.pxi\", line 632, in mpi4py.MPI.PyMPI_bcast<br />\nmpi4py.MPI.Exception: MPI_ERR_TRUNCATE: message truncated</p>\n</blockquote>\n<p>What seems to be happening is that the bcast calls on lines 397-398 of core/evaluator.py aren\u2019t working properly, and when I have a processor mesh of shape [N, M], I get this error on N processors. Usually the last processor in the first direction (e.g., on 64 cores, with mesh [4, 16], this error happens on process 15, 31, 46, 63).</p>\n<p>I\u2019m not sure what\u2019s causing this on the dedalus side, but I think it has something to do with the update to the NCC multiplication routine in commit <a href=\"#!/dedalus-project/dedalus/commits/4232435\" rel=\"nofollow\" class=\"ap-connect-link\">4232435</a>. Sometimes, the specific MPI traceback that I get is also apparently a known bug in mpi4py (<a data-is-external-link=\"true\" href=\"https://bitbucket.org/mpi4py/mpi4py/issues/17/negative-size-passed-to\" rel=\"nofollow\">see here</a>), and can supposedly be fixed by changing from lowercase bcast to uppercase Bcast. Looks like an integer overflow during the pickling routine in bcast.</p>\n<p>This error DOES NOT happen in 2D with equation sets with similar NCCs, nor does it happen when I don\u2019t specify a mesh. I\u2019m attaching two scripts of moderately modified versions of the 3D rayleigh benard example which reproduce the bug for me.  I\u2019ve added a NCC scaling to most of the equations (see lines 50-52, 67-70). I\u2019ve also switched from SinCos bases to Fourier, which I use in my personal problems. Otherwise, the files should be identical to the original example. Running mesh_rayleigh_benard.py on 4 processes breaks for me, but running noMesh_rayleigh_benard.py does not.</p>\n<p>This bug basically makes it so that all of our fully compressible equation implementations break in well-parallelized, 3D problems on the tip version of dedalus.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-06-27T09:36:05.063347+00:00", "milestone": null, "updated_on": "2019-09-13T15:16:09.865128+00:00", "type": "issue", "id": 64}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/65/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/65.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/65/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/65/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/65/easier-method-for-updating-lhs-nccs-in-ivp"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/65/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Easier method for updating LHS NCCs in IVP", "component": null, "votes": 0, "watches": 1, "content": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-07-11T15:18:14.775741+00:00", "milestone": null, "updated_on": "2020-03-19T18:59:29.441143+00:00", "type": "issue", "id": 65}, {"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/66/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/66.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/66/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/66/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/66/make-grid-spacing-available-in-parsing"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/66/vote"}}, "reporter": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "title": "Make grid spacing available in parsing namespace", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Might want this to be able to output CFL fields?", "markup": "markdown", "html": "<p>Might want this to be able to output CFL fields?</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-07-11T15:18:57.593022+00:00", "milestone": null, "updated_on": "2020-03-19T18:51:40.336491+00:00", "type": "issue", "id": 66}, {"priority": "trivial", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/67/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/67.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/67/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/67/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/67/improve-documentation-regarding-layouts"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/67/vote"}}, "reporter": {"display_name": "Dhruv Balwada", "uuid": "{7a6e96f2-8f81-4d55-a5bd-7b18b54352c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7a6e96f2-8f81-4d55-a5bd-7b18b54352c2%7D"}, "html": {"href": "https://bitbucket.org/%7B7a6e96f2-8f81-4d55-a5bd-7b18b54352c2%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/19b2f450ec517dde613e7597d9b3609cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDB-2.png"}}, "nickname": "Dhruv Balwada", "type": "user", "account_id": "5d3959c4af1d920bc997741a"}, "title": "Improve documentation regarding layouts", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I am new to Dedalus, so maybe this is not an issue for experienced users. But, is it possible to have an easier to follow explanation of what Layouts are aimed at new users? Maybe with some basic figures, and explanations of what the output fields from the methods are.", "markup": "markdown", "html": "<p>I am new to Dedalus, so maybe this is not an issue for experienced users. But, is it possible to have an easier to follow explanation of what Layouts are aimed at new users? Maybe with some basic figures, and explanations of what the output fields from the methods are.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-07-25T08:15:05.685457+00:00", "milestone": null, "updated_on": "2020-03-19T19:07:19.984822+00:00", "type": "issue", "id": 67}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/68/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/68.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/68/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/68/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/68/bugs-in-2d_rayleigh_benard-example-script"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/68/vote"}}, "reporter": {"display_name": "Mikhail Schee", "uuid": "{34cab4bf-72fd-4786-8e5b-c1cd0a1cdafb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B34cab4bf-72fd-4786-8e5b-c1cd0a1cdafb%7D"}, "html": {"href": "https://bitbucket.org/%7B34cab4bf-72fd-4786-8e5b-c1cd0a1cdafb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1b1e91cf6eff3334f80c736291f17c1fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsMS-5.png"}}, "nickname": "Mikhail Schee", "type": "user", "account_id": "5d8a65a54f81660dca8d12fd"}, "title": "Bugs in 2d_rayleigh_benard example script", "component": null, "votes": 0, "watches": 1, "content": {"raw": "When downloading Dedalus, there is a script in examples/ivp/2d\\_rayleigh\\_benard called \u201crayleigh\\_benard.py\u201d which has a few bugs. I downloaded and installed Dedalus version 2.1810 on 2019/09/23.\r\n\r\n\u200c\r\n\r\nThe first issue is in line 134 which reads \u201cwhile solver.proceed:\u201d which causes this error:\r\n\r\n\u200c\r\n\r\nAttributeError: 'InitialValueSolver' object has no attribute 'proceed'\r\n\r\n\u200c\r\n\r\nI fixed this issue by changing line 134 to read \u201cwhile solver.ok:\u201d\r\n\r\n\u200c\r\n\r\nThe second issue is that then the solver only ran to 10 iterations instead of to the specified stopping simulation time. I fixed this by adding two lines which explicitly set the stopping wall time and iterations to be infinite:\r\n\r\n\u200c\r\n\r\nsolver.stop\\_wall\\_time = np.inf\r\n\r\nsolver.stop\\_iteration = np.inf\r\n\r\n\u200c", "markup": "markdown", "html": "<p>When downloading Dedalus, there is a script in examples/ivp/2d_rayleigh_benard called \u201crayleigh_benard.py\u201d which has a few bugs. I downloaded and installed Dedalus version 2.1810 on 2019/09/23.</p>\n<p>\u200c</p>\n<p>The first issue is in line 134 which reads \u201cwhile solver.proceed:\u201d which causes this error:</p>\n<p>\u200c</p>\n<p>AttributeError: 'InitialValueSolver' object has no attribute 'proceed'</p>\n<p>\u200c</p>\n<p>I fixed this issue by changing line 134 to read \u201cwhile solver.ok:\u201d</p>\n<p>\u200c</p>\n<p>The second issue is that then the solver only ran to 10 iterations instead of to the specified stopping simulation time. I fixed this by adding two lines which explicitly set the stopping wall time and iterations to be infinite:</p>\n<p>\u200c</p>\n<p>solver.stop_wall_time = np.inf</p>\n<p>solver.stop_iteration = np.inf</p>\n<p>\u200c</p>", "type": "rendered"}, "assignee": null, "state": "invalid", "version": null, "edited_on": null, "created_on": "2019-09-24T18:58:52.757225+00:00", "milestone": null, "updated_on": "2019-09-24T20:35:46.707974+00:00", "type": "issue", "id": 68}, {"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/69/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/69.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/69/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/69/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/69/h5py-deprecation-warning"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/69/vote"}}, "reporter": null, "title": "h5py deprecation warning", "component": null, "votes": 0, "watches": 2, "content": {"raw": "Hi: \r\n\r\nI didn't find an issue regarding this deprecation warning I am seeing during the dedalus run:\r\n\r\n\r\n```\r\n#!bash\r\n\r\n$HOME/.conda/envs/dedalus/lib/python3.7/site-packages/dedalus/core/evaluator.py:548: H5pyDeprecationWarnin\r\ng: other_ds.dims.create_scale(ds, name) is deprecated. Use ds.make_scale(name) instead.\r\n  dset.dims.create_scale(scale, lookup)\r\n```\r\n\r\n\r\nI know is not that urgent as is just a deprecation warning, but is kind of annoying having to ignore it when debbuging my application.\r\n\r\nMy version info is:\r\n\r\nName: dedalus\r\nVersion: 2.1810\r\nSummary: A flexible framework for solving differential equations using spectral methods.\r\nHome-page: http://dedalus-project.org\r\nAuthor: Keaton J. Burns\r\nAuthor-email: keaton.burns@gmail.com\r\nLicense: GPL3\r\nLocation: /global/home/users/argelreyes/.conda/envs/dedalus/lib/python3.7/site-packages\r\nRequires: docopt, matplotlib, h5py, scipy, mpi4py, numpy\r\nRequired-by:", "markup": "markdown", "html": "<p>Hi: </p>\n<p>I didn't find an issue regarding this deprecation warning I am seeing during the dedalus run:</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"nv\">$HOME</span>/.conda/envs/dedalus/lib/python3.7/site-packages/dedalus/core/evaluator.py:548: H5pyDeprecationWarnin\ng: other_ds.dims.create_scale<span class=\"o\">(</span>ds, name<span class=\"o\">)</span> is deprecated. Use ds.make_scale<span class=\"o\">(</span>name<span class=\"o\">)</span> instead.\n  dset.dims.create_scale<span class=\"o\">(</span>scale, lookup<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>I know is not that urgent as is just a deprecation warning, but is kind of annoying having to ignore it when debbuging my application.</p>\n<p>My version info is:</p>\n<p>Name: dedalus\nVersion: 2.1810\nSummary: A flexible framework for solving differential equations using spectral methods.\nHome-page: <a href=\"http://dedalus-project.org\" rel=\"nofollow\" class=\"ap-connect-link\">http://dedalus-project.org</a>\nAuthor: Keaton J. Burns\nAuthor-email: keaton.burns@gmail.com\nLicense: GPL3\nLocation: /global/home/users/argelreyes/.conda/envs/dedalus/lib/python3.7/site-packages\nRequires: docopt, matplotlib, h5py, scipy, mpi4py, numpy\nRequired-by:</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-09-27T20:32:17.635796+00:00", "milestone": null, "updated_on": "2020-03-19T19:03:44.005039+00:00", "type": "issue", "id": 69}, {"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/70/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/70.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/70/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/70/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/70/cfl-limits-set-far-too-high-in-rayleigh"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/70/vote"}}, "reporter": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "title": "CFL limits set far too high in Rayleigh Benard examples", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Our Rayleigh Benard examples are among our most used scripts for researchers seeking to modify an existing script. However, the 2D problem uses a CFL of 1 and the 3D problem uses a CFL of 1.5! These need to be lowered.", "markup": "markdown", "html": "<p>Our Rayleigh Benard examples are among our most used scripts for researchers seeking to modify an existing script. However, the 2D problem uses a CFL of 1 and the 3D problem uses a CFL of 1.5! These need to be lowered.</p>", "type": "rendered"}, "assignee": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-12-19T20:20:11.300973+00:00", "milestone": null, "updated_on": "2019-12-19T20:20:11.300973+00:00", "type": "issue", "id": 70}, {"priority": "major", "kind": "proposal", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/71/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/71.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/71/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/71/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/71/looking-for-a-new-home-for-the-development"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/71/vote"}}, "reporter": {"display_name": "Pierre Augier", "uuid": "{eb327c54-cadd-4fce-9edd-f8fe047a9b93}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb327c54-cadd-4fce-9edd-f8fe047a9b93%7D"}, "html": {"href": "https://bitbucket.org/%7Beb327c54-cadd-4fce-9edd-f8fe047a9b93%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9b75dc331ab1b5d848887bdbec5ec539d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPA-2.png"}}, "nickname": "paugier", "type": "user", "account_id": "557058:6d18e2f1-34f0-4139-9028-bfdac251ab12"}, "title": "Looking for a new home for the development of Dedalus?", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Dear Dedalus developers,\r\n\r\nSoon, you will have to move away from [bitbucket.org](http://bitbucket.org).\r\n\r\nYou can consider using [https://foss.heptapod.net](https://foss.heptapod.net), which is a great alternative for development based on Mercurial. \r\n\r\nSee [https://heptapod.net/a-public-heptapod-for-free-and-open-source-software.html](https://heptapod.net/a-public-heptapod-for-free-and-open-source-software.html)\r\n\r\n[https://foss.heptapod.net](https://foss.heptapod.net) now host PyPy \\(and FluidDyn\\) development.\r\n\r\nPierre \\(dev [https://foss.heptapod.net/fluiddyn](https://foss.heptapod.net/fluiddyn)\\)", "markup": "markdown", "html": "<p>Dear Dedalus developers,</p>\n<p>Soon, you will have to move away from <a data-is-external-link=\"true\" href=\"http://bitbucket.org\" rel=\"nofollow\">bitbucket.org</a>.</p>\n<p>You can consider using <a data-is-external-link=\"true\" href=\"https://foss.heptapod.net\" rel=\"nofollow\">https://foss.heptapod.net</a>, which is a great alternative for development based on Mercurial. </p>\n<p>See <a data-is-external-link=\"true\" href=\"https://heptapod.net/a-public-heptapod-for-free-and-open-source-software.html\" rel=\"nofollow\">https://heptapod.net/a-public-heptapod-for-free-and-open-source-software.html</a></p>\n<p><a data-is-external-link=\"true\" href=\"https://foss.heptapod.net\" rel=\"nofollow\">https://foss.heptapod.net</a> now host PyPy (and FluidDyn) development.</p>\n<p>Pierre (dev <a data-is-external-link=\"true\" href=\"https://foss.heptapod.net/fluiddyn\" rel=\"nofollow\">https://foss.heptapod.net/fluiddyn</a>)</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2020-02-13T14:55:44.669999+00:00", "milestone": null, "updated_on": "2020-03-19T18:52:07.255890+00:00", "type": "issue", "id": 71}, {"priority": "minor", "kind": "task", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/72/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/72.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/72/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/72/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/72/postpy-has-some-deprecations"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/72/vote"}}, "reporter": {"display_name": "Navid Constantinou", "uuid": "{a80b816f-2e3f-4a63-b23a-b6849e64598f}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Ba80b816f-2e3f-4a63-b23a-b6849e64598f%7D"}, "html": {"href": "https://bitbucket.org/%7Ba80b816f-2e3f-4a63-b23a-b6849e64598f%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/4f5ecdf43a78384d5ec8926491c67697d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsNC-6.png"}}, "nickname": "navidcy", "type": "user", "account_id": "557058:f4366ebd-249e-4800-861d-3e857e3769c0"}, "title": "post.py has some deprecations", "component": null, "votes": 0, "watches": 1, "content": {"raw": "```\r\nSuccessfully installed dedalus-2.1905\r\n(base) [nc3020@gadi-login-03 diagnostics]$ python mergeh5files.py\r\n[gadi-login-03.gadi.nci.org.au:18103] shmem: posix: file name search - max attempts exceeded.cannot continue with posix.\r\n[gadi-login-03.gadi.nci.org.au:18108] shmem: posix: file name search - max attempts exceeded.cannot continue with posix.\r\n/home/552/nc3020/.local/lib/python3.7/site-packages/dedalus/tools/post.py:349: H5pyDeprecationWarning: other_ds.dims.create_scale(ds, name) is deprecated. Use ds.make_scale(name) instead.\r\n```\r\n\r\n\u200c", "markup": "markdown", "html": "<div class=\"codehilite\"><pre><span></span>Successfully installed dedalus-2.1905\n(base) [nc3020@gadi-login-03 diagnostics]$ python mergeh5files.py\n[gadi-login-03.gadi.nci.org.au:18103] shmem: posix: file name search - max attempts exceeded.cannot continue with posix.\n[gadi-login-03.gadi.nci.org.au:18108] shmem: posix: file name search - max attempts exceeded.cannot continue with posix.\n/home/552/nc3020/.local/lib/python3.7/site-packages/dedalus/tools/post.py:349: H5pyDeprecationWarning: other_ds.dims.create_scale(ds, name) is deprecated. Use ds.make_scale(name) instead.\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "assignee": null, "state": "duplicate", "version": null, "edited_on": null, "created_on": "2020-02-21T21:33:41.079265+00:00", "milestone": null, "updated_on": "2020-03-19T19:05:53.494738+00:00", "type": "issue", "id": 72}, {"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "links": {"attachments": {"href": "data/repositories/dedalus-project/dedalus/issues/73/attachments_page=1.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/issues/73.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/73/watch"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/issues/73/comments_page=1.json"}, "html": {"href": "#!/dedalus-project/dedalus/issues/73/windows-installation-errors"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/issues/73/vote"}}, "reporter": null, "title": "Windows installation errors", "component": null, "votes": 0, "watches": null, "content": {"raw": "So Hello everyone, I am a French undergarduate who is going to do an internship soon on fluid mechanics and I will be using Dedalus, hence why I need it installed asap.\r\n\r\nThe problem is there, whatever I do, I cannot get my cmd to build the wheel...\r\n\r\nTo explain more, I'm on Windows 10 and have built my entire Python environment by hand, using only pip commands to download libraries such as numpy, matplotlib, or even tensorflow.\r\n\r\nI tried using the pip install dedalus but got this :\r\n\r\npip install dedalus\r\nCollecting dedalus\r\n  Using cached dedalus-2.1905.tar.gz (105 kB)\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\python.exe' 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py' get_requires_for_build_wheel 'C:\\Users\\engue\\AppData\\Local\\Temp\\tmpqwt3i73s'\r\n       cwd: C:\\Users\\engue\\AppData\\Local\\Temp\\pip-install-8yd8i927\\dedalus\r\n  Complete output (52 lines):\r\n  Looking for mpi include path\r\n    Cannot find env var MPI_INCLUDE_PATH\r\n  Looking for mpi prefix\r\n    Cannot find env var MPI_PATH or libraries matching mpi.\r\n    If mpi isn't in your LD_LIBRARY_PATH, compilation will likely fail.\r\n  Looking for fftw include path\r\n    Cannot find env var FFTW_INCLUDE_PATH\r\n  Looking for fftw prefix\r\n    Found env var FFTW_PATH = /path/to/your/fftw_prefix\r\n  Looking for fftw library path\r\n    Cannot find env var FFTW_LIBRARY_PATH\r\n  Looking for fftw prefix\r\n    Found env var FFTW_PATH = /path/to/your/fftw_prefix\r\n  Looking for mpi library path\r\n    Cannot find env var MPI_LIBRARY_PATH\r\n  Looking for mpi prefix\r\n    Cannot find env var MPI_PATH or libraries matching mpi.\r\n    If mpi isn't in your LD_LIBRARY_PATH, compilation will likely fail.\r\n  Traceback (most recent call last):\r\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 257, in <module>\r\n      main()\r\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 240, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 91, in get_requires_for_build_wheel\r\n      return hook(config_settings)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 148, in get_requires_for_build_wheel\r\n      config_settings, requirements=['wheel'])\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 128, in _get_build_requires\r\n      self.run_setup()\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 250, in run_setup\r\n      self).run_setup(setup_script=setup_script)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 143, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 198, in <module>\r\n      ext_modules=cythonize(extensions, compiler_directives=compiler_directives))\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 971, in cythonize\r\n      aliases=aliases)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 856, in create_extension_list\r\n      m, metadata = create_extension(template, kwds)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 738, in default_create_extension\r\n      depends = resolve_depends(kwds['depends'], include_dirs)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 447, in resolve_depends\r\n      path = resolve_depend(depend, include_dirs)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Utils.py\", line 40, in wrapper\r\n      res = cache[args] = f(*args)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 458, in resolve_depend\r\n      path = join_path(dir, depend)\r\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Utils.py\", line 40, in wrapper\r\n      res = cache[args] = f(*args)\r\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\ntpath.py\", line 76, in join\r\n      path = os.fspath(path)\r\n  TypeError: expected str, bytes or os.PathLike object, not NoneType\r\n  ----------------------------------------\r\nERROR: Command errored out with exit status 1: 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\python.exe' 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py' get_requires_for_build_wheel 'C:\\Users\\engue\\AppData\\Local\\Temp\\tmpqwt3i73s' Check the logs for full command output.\r\n\r\n\r\nThen I tried to install each of the needed libraries one by one, being FFTW, MPI and HDF5 as well as Cython, did not work either....\r\n\r\nSo I'm asking you a simple question after deleting all the above packages from my pip, how to safely install Dedalus and all its requirements using only cmd pip commands for Python 3.6 ?\r\n\r\nBest regards,\r\n\r\nAn anxious future intern", "markup": "markdown", "html": "<p>So Hello everyone, I am a French undergarduate who is going to do an internship soon on fluid mechanics and I will be using Dedalus, hence why I need it installed asap.</p>\n<p>The problem is there, whatever I do, I cannot get my cmd to build the wheel...</p>\n<p>To explain more, I'm on Windows 10 and have built my entire Python environment by hand, using only pip commands to download libraries such as numpy, matplotlib, or even tensorflow.</p>\n<p>I tried using the pip install dedalus but got this :</p>\n<p>pip install dedalus\nCollecting dedalus\n  Using cached dedalus-2.1905.tar.gz (105 kB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... error\n  ERROR: Command errored out with exit status 1:\n   command: 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\python.exe' 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip_vendor\\pep517_in_process.py' get_requires_for_build_wheel 'C:\\Users\\engue\\AppData\\Local\\Temp\\tmpqwt3i73s'\n       cwd: C:\\Users\\engue\\AppData\\Local\\Temp\\pip-install-8yd8i927\\dedalus\n  Complete output (52 lines):\n  Looking for mpi include path\n    Cannot find env var MPI_INCLUDE_PATH\n  Looking for mpi prefix\n    Cannot find env var MPI_PATH or libraries matching mpi.\n    If mpi isn't in your LD_LIBRARY_PATH, compilation will likely fail.\n  Looking for fftw include path\n    Cannot find env var FFTW_INCLUDE_PATH\n  Looking for fftw prefix\n    Found env var FFTW_PATH = /path/to/your/fftw_prefix\n  Looking for fftw library path\n    Cannot find env var FFTW_LIBRARY_PATH\n  Looking for fftw prefix\n    Found env var FFTW_PATH = /path/to/your/fftw_prefix\n  Looking for mpi library path\n    Cannot find env var MPI_LIBRARY_PATH\n  Looking for mpi prefix\n    Cannot find env var MPI_PATH or libraries matching mpi.\n    If mpi isn't in your LD_LIBRARY_PATH, compilation will likely fail.\n  Traceback (most recent call last):\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip_vendor\\pep517_in_process.py\", line 257, in &lt;module&gt;\n      main()\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip_vendor\\pep517_in_process.py\", line 240, in main\n      json_out['return_val'] = hook(<em><em>hook_input['kwargs'])\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip_vendor\\pep517_in_process.py\", line 91, in get_requires_for_build_wheel\n      return hook(config_settings)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 148, in get_requires_for_build_wheel\n      config_settings, requirements=['wheel'])\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 128, in _get_build_requires\n      self.run_setup()\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 250, in run_setup\n      self).run_setup(setup_script=setup_script)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 143, in run_setup\n      exec(compile(code, <strong>file</strong>, 'exec'), locals())\n    File \"setup.py\", line 198, in &lt;module&gt;\n      ext_modules=cythonize(extensions, compiler_directives=compiler_directives))\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 971, in cythonize\n      aliases=aliases)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 856, in create_extension_list\n      m, metadata = create_extension(template, kwds)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 738, in default_create_extension\n      depends = resolve_depends(kwds['depends'], include_dirs)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 447, in resolve_depends\n      path = resolve_depend(depend, include_dirs)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Utils.py\", line 40, in wrapper\n      res = cache[args] = f(</em>args)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Build\\Dependencies.py\", line 458, in resolve_depend\n      path = join_path(dir, depend)\n    File \"C:\\Users\\engue\\AppData\\Local\\Temp\\pip-build-env-fwstzrik\\overlay\\Lib\\site-packages\\Cython\\Utils.py\", line 40, in wrapper\n      res = cache[args] = f(</em>args)\n    File \"c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\ntpath.py\", line 76, in join\n      path = os.fspath(path)\n  TypeError: expected str, bytes or os.PathLike object, not NoneType</p>\n<hr />\n<p>ERROR: Command errored out with exit status 1: 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\python.exe' 'c:\\users\\engue\\appdata\\local\\programs\\python\\python36\\lib\\site-packages\\pip_vendor\\pep517_in_process.py' get_requires_for_build_wheel 'C:\\Users\\engue\\AppData\\Local\\Temp\\tmpqwt3i73s' Check the logs for full command output.</p>\n<p>Then I tried to install each of the needed libraries one by one, being FFTW, MPI and HDF5 as well as Cython, did not work either....</p>\n<p>So I'm asking you a simple question after deleting all the above packages from my pip, how to safely install Dedalus and all its requirements using only cmd pip commands for Python 3.6 ?</p>\n<p>Best regards,</p>\n<p>An anxious future intern</p>", "type": "rendered"}, "assignee": null, "state": "wontfix", "version": null, "edited_on": null, "created_on": "2020-02-21T23:41:50.840548+00:00", "milestone": null, "updated_on": "2020-03-19T19:05:21.787655+00:00", "type": "issue", "id": 73}], "page": 1, "size": 73}