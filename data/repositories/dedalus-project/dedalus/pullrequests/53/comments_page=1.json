{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/74586758.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-74586758"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "Known issue: the GCC vs clang flags are selected by just seeing if the system is a Mac or not.  This isn\u2019t ideal, since clang can be used on linux and GCC can be used on Mac.  One option might be to create a build\\_ext class, which has the live compiler information, and use that to set the flags, i.e.: [https://stackoverflow.com/questions/724664/python-distutils-how-to-get-a-compiler-that-is-going-to-be-used](https://stackoverflow.com/questions/724664/python-distutils-how-to-get-a-compiler-that-is-going-to-be-used).  A simpler option might be to just check for the CC environment variable, and guess if it\u2019s not set, i.e.: [https://stackoverflow.com/questions/28641408/how-to-tell-which-compiler-will-be-invoked-for-a-python-c-extension-in-setuptool](https://stackoverflow.com/questions/28641408/how-to-tell-which-compiler-will-be-invoked-for-a-python-c-extension-in-setuptool).  Then if things fail, we can just tell people to set CC.", "markup": "markdown", "html": "<p>Known issue: the GCC vs clang flags are selected by just seeing if the system is a Mac or not.  This isn\u2019t ideal, since clang can be used on linux and GCC can be used on Mac.  One option might be to create a build_ext class, which has the live compiler information, and use that to set the flags, i.e.: <a data-is-external-link=\"true\" href=\"https://stackoverflow.com/questions/724664/python-distutils-how-to-get-a-compiler-that-is-going-to-be-used\" rel=\"nofollow\">https://stackoverflow.com/questions/724664/python-distutils-how-to-get-a-compiler-that-is-going-to-be-used</a>.  A simpler option might be to just check for the CC environment variable, and guess if it\u2019s not set, i.e.: <a data-is-external-link=\"true\" href=\"https://stackoverflow.com/questions/28641408/how-to-tell-which-compiler-will-be-invoked-for-a-python-c-extension-in-setuptool\" rel=\"nofollow\">https://stackoverflow.com/questions/28641408/how-to-tell-which-compiler-will-be-invoked-for-a-python-c-extension-in-setuptool</a>.  Then if things fail, we can just tell people to set CC.</p>", "type": "rendered"}, "created_on": "2018-08-30T19:46:31.481119+00:00", "user": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "updated_on": "2018-08-30T19:46:31.488774+00:00", "type": "pullrequest_comment", "id": 74586758}, {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/74590969.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-74590969"}}, "parent": {"id": 74586758, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/74586758.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-74586758"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "The subclassing solution from stackoverflow is not terrible, but I\u2019d suggest that for now, let's proceed with setting `CC` env var\u2026", "markup": "markdown", "html": "<p>The subclassing solution from stackoverflow is not terrible, but I\u2019d suggest that for now, let's proceed with setting <code>CC</code> env var\u2026</p>", "type": "rendered"}, "created_on": "2018-08-30T20:37:02.538286+00:00", "user": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "updated_on": "2018-08-30T20:37:02.546067+00:00", "type": "pullrequest_comment", "id": 74590969}, {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/74591064.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/diff/kburns/dedalus:bb5ff7fffe51..596840b1c767?path=setup.py"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-74591064"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "Should this be bumped to `'2.1808'` once this PR is accepted?", "markup": "markdown", "html": "<p>Should this be bumped to <code>'2.1808'</code> once this PR is accepted?</p>", "type": "rendered"}, "created_on": "2018-08-30T20:38:06.905615+00:00", "user": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "inline": {"to": 136, "from": null, "path": "setup.py"}, "updated_on": "2018-08-30T20:38:06.913097+00:00", "type": "pullrequest_comment", "id": 74591064}, {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/74960074.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-74960074"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "PR updated to check for CC before deciding which link flags to use, and also to try to set RPATH on both linux and Mac to help the dynamic linker find the right paths at runtime.  Seems this doesn\u2019t totally work, since it sometimes sets RUNPATH instead of RPATH, which gets checked after LD\\_LIBRARY\\_PATH, so the dynamic linker can still get confused.  However, it at least helps when theres no FFTW on the LD\\_LIBRARY\\_PATH at all.", "markup": "markdown", "html": "<p>PR updated to check for CC before deciding which link flags to use, and also to try to set RPATH on both linux and Mac to help the dynamic linker find the right paths at runtime.  Seems this doesn\u2019t totally work, since it sometimes sets RUNPATH instead of RPATH, which gets checked after LD_LIBRARY_PATH, so the dynamic linker can still get confused.  However, it at least helps when theres no FFTW on the LD_LIBRARY_PATH at all.</p>", "type": "rendered"}, "created_on": "2018-09-04T20:17:06.457115+00:00", "user": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "updated_on": "2018-09-04T20:17:06.464330+00:00", "type": "pullrequest_comment", "id": 74960074}, {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/74960959.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-74960959"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "While we\u2019re cleaning up setup.py\u2026 is it clear we need MPI\\_PATH and get\\_include\\(\u201cmpi\u201d\\)?  Things seem to work fine on the FI cluster without it, and MPI is in some weird path there.  We\u2019re only accessing MPI functions through mpi4py, so we might be able to drop it for simplification.", "markup": "markdown", "html": "<p>While we\u2019re cleaning up setup.py\u2026 is it clear we need MPI_PATH and get_include(\u201cmpi\u201d)?  Things seem to work fine on the FI cluster without it, and MPI is in some weird path there.  We\u2019re only accessing MPI functions through mpi4py, so we might be able to drop it for simplification.</p>", "type": "rendered"}, "created_on": "2018-09-04T20:26:15.490490+00:00", "user": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "updated_on": "2018-09-04T20:26:15.499333+00:00", "type": "pullrequest_comment", "id": 74960959}, {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/77230183.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-77230183"}}, "parent": {"id": 74960959, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/74960959.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-74960959"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "That\u2019s correct, it\u2019s unnecessary. ", "markup": "markdown", "html": "<p>That\u2019s correct, it\u2019s unnecessary. </p>", "type": "rendered"}, "created_on": "2018-09-26T16:22:22.050675+00:00", "user": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}, "updated_on": "2018-09-26T16:22:22.059287+00:00", "type": "pullrequest_comment", "id": 77230183}, {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/75064309.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-75064309"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "PR updated to add cython profiling as build-time option and document env vars used in setup.py.", "markup": "markdown", "html": "<p>PR updated to add cython profiling as build-time option and document env vars used in setup.py.</p>", "type": "rendered"}, "created_on": "2018-09-05T14:22:53.149887+00:00", "user": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "updated_on": "2018-09-05T14:22:53.157232+00:00", "type": "pullrequest_comment", "id": 75064309}, {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53/comments/75674681.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53/_/diff#comment-75674681"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 53, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/53.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/53"}}, "title": "Update for modern pip installation"}, "content": {"raw": "Ok took out MPI\\_PATH for now.  I think we might want to wait on putting more effort into rpath issues.  As far as other compiler warnings: the biggest remaining one is a cython-using-deprecated-numpy warning, which looks like the cython folks are working on now: [https://github.com/cython/cython/issues/2498](https://github.com/cython/cython/issues/2498)", "markup": "markdown", "html": "<p>Ok took out MPI_PATH for now.  I think we might want to wait on putting more effort into rpath issues.  As far as other compiler warnings: the biggest remaining one is a cython-using-deprecated-numpy warning, which looks like the cython folks are working on now: <a data-is-external-link=\"true\" href=\"https://github.com/cython/cython/issues/2498\" rel=\"nofollow\">https://github.com/cython/cython/issues/2498</a></p>", "type": "rendered"}, "created_on": "2018-09-11T21:42:27.573531+00:00", "user": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, "updated_on": "2018-09-11T21:42:27.582117+00:00", "type": "pullrequest_comment", "id": 75674681}], "page": 1, "size": 8}