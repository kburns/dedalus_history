{"links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/30/comments/7992287.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/30/_/diff#comment-7992287"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 30, "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/30.json"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/30"}}, "title": "[WIP] Checkpointing and restart capability"}, "content": {"raw": "There seems to be a bug in restart if the fields are not initially in the correct layout.  The statement:\n```\n#!python\nslices = solver.state[variable].layout.slices\n```\nis only going to give you the correct slices if\n\n```\n#!python\nsolver.state[variable].layout==layout\n```\n", "markup": "markdown", "html": "<p>There seems to be a bug in restart if the fields are not initially in the correct layout.  The statement:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">slices</span> <span class=\"o\">=</span> <span class=\"n\">solver</span><span class=\"o\">.</span><span class=\"n\">state</span><span class=\"p\">[</span><span class=\"n\">variable</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">layout</span><span class=\"o\">.</span><span class=\"n\">slices</span>\n</pre></div>\n\n\n<p>is only going to give you the correct slices if</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">solver</span><span class=\"o\">.</span><span class=\"n\">state</span><span class=\"p\">[</span><span class=\"n\">variable</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">layout</span><span class=\"o\">==</span><span class=\"n\">layout</span>\n</pre></div>", "type": "rendered"}, "created_on": "2015-07-03T00:41:30.784199+00:00", "user": {"display_name": "Daniel Lecoanet", "uuid": "{0ff8d177-8703-4f25-93d4-68857e948a31}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D"}, "html": {"href": "https://bitbucket.org/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/829d5ddfabf278a6c21111d4de2fe031d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDL-3.png"}}, "nickname": "lecoanet", "type": "user", "account_id": "557058:ba5c14ee-54e1-4d72-aa9e-1e2a4c5ab718"}, "updated_on": "2015-07-03T00:41:30.789217+00:00", "type": "pullrequest_comment", "id": 7992287}