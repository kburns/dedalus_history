{"rendered": {"reason": {"raw": "Declining in favor of better implementation by @jsoishi (PR #35).", "markup": "markdown", "html": "<p>Declining in favor of better implementation by @jsoishi (<a href=\"#!/dedalus-project/dedalus/pull-requests/35/simple-checkpointing-mechanism\" rel=\"nofollow\" class=\"ap-connect-link\">PR #35</a>).</p>", "type": "rendered"}, "description": {"raw": "This is a work-in-progress pull request to add checkpointing and restart capability to Dedlus IVP problems.  My goal is to streamline the process of restarting simulations.\r\n\r\nRight now, I've tested this on 2-D problems at fixed resolution, and we correctly determine a functional (though not exactly identical) CFL timestep on restart.  I'm working on variable resolution restart (hooks are in place, but not clear if they work) as the next step.\r\n\r\nThis needs example problems that utilize the checkpointing.  Here is an example:\r\n\r\nestablish saved checkpointing during normal runs:\r\n\r\n    from dedalus.extras.checkpointing import Checkpoint\r\n    checkpoint = Checkpoint(data_dir)\r\n    checkpoint.set_checkpoint(solver, iter=20)\r\n\r\nRestart from specified (joined) checkpoint ('checkpoint_s5.h5'):\r\n\r\n    checkpoint_file = data_dir+'checkpoint/checkpoint_s5.h5'\r\n    checkpoint.restart(checkpoint_file, solver)\r\n\r\nAll comments welcome.", "markup": "markdown", "html": "<p>This is a work-in-progress pull request to add checkpointing and restart capability to Dedlus IVP problems.  My goal is to streamline the process of restarting simulations.</p>\n<p>Right now, I've tested this on 2-D problems at fixed resolution, and we correctly determine a functional (though not exactly identical) CFL timestep on restart.  I'm working on variable resolution restart (hooks are in place, but not clear if they work) as the next step.</p>\n<p>This needs example problems that utilize the checkpointing.  Here is an example:</p>\n<p>establish saved checkpointing during normal runs:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dedalus.extras.checkpointing</span> <span class=\"kn\">import</span> <span class=\"n\">Checkpoint</span>\n<span class=\"n\">checkpoint</span> <span class=\"o\">=</span> <span class=\"n\">Checkpoint</span><span class=\"p\">(</span><span class=\"n\">data_dir</span><span class=\"p\">)</span>\n<span class=\"n\">checkpoint</span><span class=\"o\">.</span><span class=\"n\">set_checkpoint</span><span class=\"p\">(</span><span class=\"n\">solver</span><span class=\"p\">,</span> <span class=\"nb\">iter</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Restart from specified (joined) checkpoint ('checkpoint_s5.h5'):</p>\n<div class=\"codehilite\"><pre><span></span>checkpoint_file = data_dir+&#39;checkpoint/checkpoint_s5.h5&#39;\ncheckpoint.restart(checkpoint_file, solver)\n</pre></div>\n\n\n<p>All comments welcome.</p>", "type": "rendered"}, "title": {"raw": "[WIP] Checkpointing and restart capability", "markup": "markdown", "html": "<p>[WIP] Checkpointing and restart capability</p>", "type": "rendered"}}, "type": "pullrequest", "description": "This is a work-in-progress pull request to add checkpointing and restart capability to Dedlus IVP problems.  My goal is to streamline the process of restarting simulations.\r\n\r\nRight now, I've tested this on 2-D problems at fixed resolution, and we correctly determine a functional (though not exactly identical) CFL timestep on restart.  I'm working on variable resolution restart (hooks are in place, but not clear if they work) as the next step.\r\n\r\nThis needs example problems that utilize the checkpointing.  Here is an example:\r\n\r\nestablish saved checkpointing during normal runs:\r\n\r\n    from dedalus.extras.checkpointing import Checkpoint\r\n    checkpoint = Checkpoint(data_dir)\r\n    checkpoint.set_checkpoint(solver, iter=20)\r\n\r\nRestart from specified (joined) checkpoint ('checkpoint_s5.h5'):\r\n\r\n    checkpoint_file = data_dir+'checkpoint/checkpoint_s5.h5'\r\n    checkpoint.restart(checkpoint_file, solver)\r\n\r\nAll comments welcome.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/pullrequests/30/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/diffstat/bpbrown/dedalus2-bpbrown:f208368fac65%0D5f7fcdf21cd2?from_pullrequest_id=30"}, "commits": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/30/commits.json"}, "self": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/30.json"}, "comments": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/30/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/pullrequests/30/merge"}, "html": {"href": "#!/dedalus-project/dedalus/pull-requests/30"}, "activity": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/30/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/diff/bpbrown/dedalus2-bpbrown:f208368fac65%0D5f7fcdf21cd2?from_pullrequest_id=30"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/dedalus-project/dedalus/pullrequests/30/approve"}, "statuses": {"href": "data/repositories/dedalus-project/dedalus/pullrequests/30/statuses_page=1.json"}}, "title": "[WIP] Checkpointing and restart capability", "close_source_branch": false, "reviewers": [{"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}, {"display_name": "Daniel Lecoanet", "uuid": "{0ff8d177-8703-4f25-93d4-68857e948a31}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D"}, "html": {"href": "https://bitbucket.org/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/829d5ddfabf278a6c21111d4de2fe031d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDL-3.png"}}, "nickname": "lecoanet", "type": "user", "account_id": "557058:ba5c14ee-54e1-4d72-aa9e-1e2a4c5ab718"}, {"display_name": "Geoffrey Vasil", "uuid": "{ec9259be-a54c-4c63-b96f-730d3e89ef05}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D"}, "html": {"href": "https://bitbucket.org/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/066b34172584980740ef2ae4c530a8b3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsGV-6.png"}}, "nickname": "gvasil", "type": "user", "account_id": "557058:e21712ff-f90d-47dd-ac9d-39f9035f02bd"}, {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}], "id": 30, "destination": {"commit": {"hash": "5f7fcdf21cd2", "type": "commit", "links": {"self": {"href": "data/repositories/dedalus-project/dedalus/commit/5f7fcdf21cd2.json"}, "html": {"href": "#!/dedalus-project/dedalus/commits/5f7fcdf21cd2"}}}, "repository": {"links": {"self": {"href": "data/repositories/dedalus-project/dedalus.json"}, "html": {"href": "#!/dedalus-project/dedalus"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1dc39ab6-2798-450d-af2f-e976f94b5794}ts=2009435"}}, "type": "repository", "name": "dedalus", "full_name": "dedalus-project/dedalus", "uuid": "{1dc39ab6-2798-450d-af2f-e976f94b5794}"}, "branch": {"name": "default"}}, "created_on": "2015-03-04T00:02:37.005530+00:00", "summary": {"raw": "This is a work-in-progress pull request to add checkpointing and restart capability to Dedlus IVP problems.  My goal is to streamline the process of restarting simulations.\r\n\r\nRight now, I've tested this on 2-D problems at fixed resolution, and we correctly determine a functional (though not exactly identical) CFL timestep on restart.  I'm working on variable resolution restart (hooks are in place, but not clear if they work) as the next step.\r\n\r\nThis needs example problems that utilize the checkpointing.  Here is an example:\r\n\r\nestablish saved checkpointing during normal runs:\r\n\r\n    from dedalus.extras.checkpointing import Checkpoint\r\n    checkpoint = Checkpoint(data_dir)\r\n    checkpoint.set_checkpoint(solver, iter=20)\r\n\r\nRestart from specified (joined) checkpoint ('checkpoint_s5.h5'):\r\n\r\n    checkpoint_file = data_dir+'checkpoint/checkpoint_s5.h5'\r\n    checkpoint.restart(checkpoint_file, solver)\r\n\r\nAll comments welcome.", "markup": "markdown", "html": "<p>This is a work-in-progress pull request to add checkpointing and restart capability to Dedlus IVP problems.  My goal is to streamline the process of restarting simulations.</p>\n<p>Right now, I've tested this on 2-D problems at fixed resolution, and we correctly determine a functional (though not exactly identical) CFL timestep on restart.  I'm working on variable resolution restart (hooks are in place, but not clear if they work) as the next step.</p>\n<p>This needs example problems that utilize the checkpointing.  Here is an example:</p>\n<p>establish saved checkpointing during normal runs:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dedalus.extras.checkpointing</span> <span class=\"kn\">import</span> <span class=\"n\">Checkpoint</span>\n<span class=\"n\">checkpoint</span> <span class=\"o\">=</span> <span class=\"n\">Checkpoint</span><span class=\"p\">(</span><span class=\"n\">data_dir</span><span class=\"p\">)</span>\n<span class=\"n\">checkpoint</span><span class=\"o\">.</span><span class=\"n\">set_checkpoint</span><span class=\"p\">(</span><span class=\"n\">solver</span><span class=\"p\">,</span> <span class=\"nb\">iter</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Restart from specified (joined) checkpoint ('checkpoint_s5.h5'):</p>\n<div class=\"codehilite\"><pre><span></span>checkpoint_file = data_dir+&#39;checkpoint/checkpoint_s5.h5&#39;\ncheckpoint.restart(checkpoint_file, solver)\n</pre></div>\n\n\n<p>All comments welcome.</p>", "type": "rendered"}, "source": {"commit": {"hash": "f208368fac65", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/bpbrown/dedalus2-bpbrown/commit/f208368fac65"}, "html": {"href": "https://bitbucket.org/bpbrown/dedalus2-bpbrown/commits/f208368fac65"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/bpbrown/dedalus2-bpbrown"}, "html": {"href": "https://bitbucket.org/bpbrown/dedalus2-bpbrown"}, "avatar": {"href": "data/bytebucket.org/ravatar/{8ad5716d-eadc-4bf7-abf2-be055a494541}ts=python"}}, "type": "repository", "name": "dedalus2 - bpbrown", "full_name": "bpbrown/dedalus2-bpbrown", "uuid": "{8ad5716d-eadc-4bf7-abf2-be055a494541}"}, "branch": {"name": "default"}}, "comment_count": 21, "state": "DECLINED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": "2015-08-26T03:16:27.022429+00:00", "type": "participant", "approved": false, "user": {"display_name": "Daniel Lecoanet", "uuid": "{0ff8d177-8703-4f25-93d4-68857e948a31}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D"}, "html": {"href": "https://bitbucket.org/%7B0ff8d177-8703-4f25-93d4-68857e948a31%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/829d5ddfabf278a6c21111d4de2fe031d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDL-3.png"}}, "nickname": "lecoanet", "type": "user", "account_id": "557058:ba5c14ee-54e1-4d72-aa9e-1e2a4c5ab718"}}, {"role": "REVIEWER", "participated_on": "2015-09-04T17:03:53.944425+00:00", "type": "participant", "approved": false, "user": {"display_name": "Keaton Burns", "uuid": "{3d3e64f1-bf12-45df-b655-4543d8fb34c4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D"}, "html": {"href": "https://bitbucket.org/%7B3d3e64f1-bf12-45df-b655-4543d8fb34c4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:e31a7835-5317-4dfa-8551-f32a06f40279/40f33f99-2b75-4a17-a8c2-07c8d74c7480/128"}}, "nickname": "kburns", "type": "user", "account_id": "557058:e31a7835-5317-4dfa-8551-f32a06f40279"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Geoffrey Vasil", "uuid": "{ec9259be-a54c-4c63-b96f-730d3e89ef05}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D"}, "html": {"href": "https://bitbucket.org/%7Bec9259be-a54c-4c63-b96f-730d3e89ef05%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/066b34172584980740ef2ae4c530a8b3d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsGV-6.png"}}, "nickname": "gvasil", "type": "user", "account_id": "557058:e21712ff-f90d-47dd-ac9d-39f9035f02bd"}}, {"role": "PARTICIPANT", "participated_on": "2016-07-01T22:02:50.095041+00:00", "type": "participant", "approved": false, "user": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}}, {"role": "REVIEWER", "participated_on": "2015-08-25T20:49:35.541825+00:00", "type": "participant", "approved": false, "user": {"display_name": "J. S. Oishi", "uuid": "{ab7c2db2-7642-47a8-9264-0939f601d904}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D"}, "html": {"href": "https://bitbucket.org/%7Bab7c2db2-7642-47a8-9264-0939f601d904%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:94f96ca9-adbd-4972-8f41-b00b9683f819/4a90742a-28a5-4829-a074-c23c9f5fcc81/128"}}, "nickname": "jsoishi", "type": "user", "account_id": "557058:94f96ca9-adbd-4972-8f41-b00b9683f819"}}], "reason": "Declining in favor of better implementation by @jsoishi (PR #35).", "updated_on": "2016-07-01T22:02:50.100062+00:00", "author": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}, "merge_commit": null, "closed_by": {"display_name": "Benjamin Brown", "uuid": "{7ccecdb3-3639-4001-8249-060e80320bda}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D"}, "html": {"href": "https://bitbucket.org/%7B7ccecdb3-3639-4001-8249-060e80320bda%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571/8bc6f4da-871a-48b1-88ea-998663d18142/128"}}, "nickname": "Benjamin Brown", "type": "user", "account_id": "557058:0696c4b9-e94c-41ac-82be-62ad4f0ec571"}}